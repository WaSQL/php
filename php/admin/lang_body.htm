<view:default>
<?=buildOnLoad("wacss.loadScript('/php/admin/lang_js.js');");?>
<style type="text/css">
	table {border-collapse: collapse; border: 0; width: 934px; box-shadow: 1px 2px 3px #ccc;}
	.center {text-align: center;}
	.center table {margin: 1em auto; text-align: left;}
	.center th {text-align: center !important;}
	td, th {border: 1px solid #666; font-size: 75%; vertical-align: baseline; padding: 4px 5px;}
	h1 {font-size: 150%;}
	h2 {font-size: 125%;margin-top:0.5rem;}
	.p {text-align: left;}
	.e {background-color: #ccf; width: 300px; font-weight: bold;}
	.h {background-color: #99c; font-weight: bold;}
	.v {background-color: #ddd; max-width: 300px; overflow-x: auto; word-wrap: break-word;}
	.v i {color: #999;}
	header{text-align:left;}
</style>
<ul class="nav-tabs w_white">
	<li class="active"><a href="#" data-lang="php" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-php"></span> PHP</a></li>
	<li><a href="#" data-lang="python" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-python"></span> Python</a></li>
	<li><a href="#" data-lang="ruby" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-ruby"></span> Ruby</a></li>
	<li><a href="#" data-lang="perl" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-perl"></span> Perl</a></li>
	<li><a href="#" data-lang="nodejs" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-nodejs"></span> NodeJs</a></li>
	<li><a href="#" data-lang="lua" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-program-lua"></span> Lua</a></li>
	<li><a href="#" data-lang="r" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="brand-r"></span> R</a></li>
	<li><a href="#" data-lang="julia" data-setprocessing="lang_tab_processing" data-_menu="lang" data-nav="/php/admin.php" data-div="lang_results" data-tab="1" onclick="return wacss.nav(this);"><span class="icon-julia"></span> Julia</a></li>
	<li><a href="#" id="lang_tab_processing" style="border:0px;"></a></li>
</ul>
<div id="lang_results"><?=renderView('lang_results',$result,'result');?></div>
</view:default>

<view:lang_results>
<div style="display:flex;justify-content: flex-start;align-items: flex-start;width:100%;margin-bottom:100px;" data-onload="wacss.removeId('wacss_centerpop');">
	<div class="w_nowrap is-hidden-mobile" style="margin-top:20px;padding-right:25px;min-width:250px;max-height:90vh;overflow:auto;">
		<form class="w_form" name="moduleform" data-onload="document.moduleform.module.select();" data-setprocessing="installbutton" method="post" action="/php/admin.php" onsubmit="return wacss.ajaxPost(this,'centerpop');" style="width:100%;margin-bottom:10px;">
			<input type="hidden" name="_menu" value="lang">
			<input type="hidden" name="lang" value="<?=$result['lang'];?>">
			<div style="display:flex;justify-content: flex-start;align-items: flex-start;width:100%;gap:3px">
				<input class="wacss_input is-mobile-responsive" name="module" type="text" placeholder="module name" required autofocus>
				<select name="title" class="wacss_select is-mobile-responsive" onchange="if(this.value=='uninstall'){if(!confirm('Are you sure you want to uninstall this module? This may break dependencies.')){this.value='search';}}">
					<option value="search">Search</option>
					<option value="install">Install</option>
					<option value="uninstall">Uninstall</option>

				</select>
				<button id="installbutton" type="submit" class="wacss_button is-mobile-responsive">Go</button>
			</div>
		</form>
		<h3><?=count($result['modules']);?> Modules Installed</h3>
		<?=renderEach('module',$result['modules'],'name');?>
	</div>
	<div style="margin-left:5px;flex:1;margin-top:20px;padding-right:25px;max-height:90vh;overflow:auto;">
		<?=$result['body'];?>
	</div>
</div>
</view:lang_results>

<view:installs>
<div data-onload="wacss.centerObject('wacss_centerpop');">
	<view:install>
	<div class="w_small w_gray"><?=$install['cmd'];?></div>
	<div style="border-radius:4px;font-family:monospace;white-space: pre;padding:15px;background:#3f3f3f;color:#FFF;margin-top:10px;"><?=$install['stdout'];?><?=$install['stderr'];?></div>
	</view:install>
	<?=renderEach('install',$installs,'install');?>
</div>
</view:installs>

<view:install_table>
<div data-onload="wacss.centerObject('wacss_centerpop');">
	<?=$install_table;?>
</div>
</view:install_table>

<view:module>
<div>
	<a href="#module_<?=$name;?>" class="w_link" style="color:#999999;"><?=$name;?></a> 
</div>
</view:module>
