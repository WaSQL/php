function attachDropFiles(e){var t=e.files;if(0!=t.length){var r=getParentForm(e);if(void 0!=r){var a=r.getAttribute("name");void 0==a&&(a=r.getAttribute("id")),void 0==a&&(a="noname");var i=!1;void 0!=e.getAttribute("multiple")&&(i=!0);for(var n=0;n<t.length;n++){var o=t[n],s=new FileReader;i?s.cname=e.name+"_base64[]":s.cname=e.name+"_base64",s.cid=a+"_"+e.name+"_base64",s.allow_multiple=i,s.fname=o.name,s.fid=a+"_"+e.name+"_base64_filename",s.onload=function(e){if(this.allow_multiple){var t=document.createElement("textarea");t.name=this.cname,t.id=this.cid,t.setAttribute("data-filename",this.fname),t.innerHTML="filename:"+this.fname+";"+e.target.result,t.style.display="none",r.appendChild(t)}else{var a=getObject(this.cid);void 0==a&&(t=document.createElement("textarea"),t.name=this.cname,t.id=this.cid,t.style.display="none",r.appendChild(t)),t.setAttribute("data-filename",this.fname),t.innerHTML="filename:"+this.fname+";"+e.target.result}},s.readAsDataURL(o)}}}}function autoFill(e,t,r){void 0==r&&(r=0);var a=new Array,i=GetElementsByAttribute("div","id",t);for(l=0;l<i.length;l++){var n=i[l].getAttribute("name");if("null"!=n){var o=getText(i[l]);a[n]=o}}for(var l=0;l<e.length;l++){var d=e[l].type,n=e[l].getAttribute("name"),u=n.replace(/\[/,"");u=u.replace(/\]/,"");a[u];if(r&&(e[l].style.backgroundColor="#FFFFFF",e[l].style.color="#000000",e[l].style.border="1px solid #7f9db9","textarea"==d?e[l].readOnly=!0:"text"==d?e[l].readOnly=!0:e[l].disabled=!0),void 0!=a[u])if("checkbox"==d){var c=a[u].split(":"),p=e[l].getAttribute("value");for(s=0;s<c.length;s++)p==c[s]&&(e[l].checked=!0)}else e[l].value=a[u]}}function ajaxAddEditForm(e,t,r,a){var i="_action=editform&-table="+e,n="Add New Record";return void 0!=t&&t>0&&(i+="&_id="+t,n="Edit Record"),void 0!=r&&(i+="&-fields="+r),void 0!=a&&(i+="&"+a),ajaxPopup("/php/index.php",i,{id:"centerpop"}),!1}function autoGrow(e,t){void 0==t&&(t=400),e.scrollHeight<t&&e.scrollHeight>e.clientHeight&&!window.opera&&(e.style.height=e.scrollHeight+"px")}function buildFormCalendar(e,t){return buildFormDate(e,t)}function buildFormCheckAll(e,t,r){var a=document.createElement("div");void 0==r&&(r={}),void 0==r.id&&(r.id="c"+guid());var i=document.createElement("input");i.type="checkbox",i.id=r.id;var n="";void 0!=r.onchange?n=r.onchange:void 0!=r.onclick&&(n=r.onclick),n="checkAllElements('"+e+"','"+t+"',this.checked);"+n+";",i.setAttribute("onclick",n),a.appendChild(i),void 0==r.label&&(r.label="Check All");var o=document.createElement("label");if(o.setAttribute("for",i.id),o.innerHTML="&nbsp;"+r.label,a.appendChild(o),void 0!=r["-parent"]){var s=getObject(r["-parent"]);void 0!=s?s.appendChild(a):console.log(r["-parent"]+" does not exist")}return a}function buildFormCheckbox(e,t,r){if(void 0==e||!e.length)return void alert("buildFormCheckbox Error: no name");if(e=e.replace("/[[]]+$/",""),void 0==r&&(r={}),void 0==t)return void alert("buildFormCheckbox Error: no opts");if(void 0==r["-formname"]&&(r["-formname"]="addedit"),void 0==r.id&&(r.id=r["-formname"]+"_"+e),void 0==r.group&&(r.group=r["-formname"]+"_"+e+"_group"),void 0==r.width&&(r.width=4),void 0==r["-values"]&&(r["-values"]={}),void 0!=r.value){var a=typeof r.value;if("string"==a.toLowerCase()){var i=r.value.split(":");for(v=0;v<i.length;v++)r["-values"][i[v]]=!0}else r["-values"]=r.value;r.value=""}if(void 0!=r["-values"]){var a=typeof r["-values"];if("string"==a.toLowerCase()){var i=r["-values"].split(":");for(r["-values"]={},v=0;v<i.length;v++)r["-values"][i[v]]=!0}}var n=document.createElement("div");if(n.className="row",void 0!=r["-checkall"]&&void 0==r["-radio"]){buildFormCheckAll("data-group",r.group,{"-parent":n})}var o={},s=0;for(var l in t){void 0==o[s]&&(o[s]={});var d=t[l];o[s][l]=d,s+=1,s==r.width&&(s=0)}for(var u=Math.floor(12/r.width),s=0;s<r.width;s++){var c=document.createElement("div");c.className="col-xs-"+u;for(var l in o[s]){var d=o[s][l],p=document.createElement("div"),m=r["-formname"]+"_"+e+"_"+l,f=document.createElement("input");void 0!=r["-radio"]?(f.type="radio",f.name=e):(f.type="checkbox",f.name=e+"[]"),f.value=l,void 0!=r["-values"][l]&&(f.checked=!0),r.required&&f.setAttribute("_required",r.required),f.id=m,f.setAttribute("data-group",r.group),f.setAttribute("data-type","checkbox"),p.appendChild(f);var h=document.createElement("label");h.setAttribute("for",m),h.innerHTML="&nbsp;"+d,p.appendChild(h),c.appendChild(p)}n.appendChild(c)}if(void 0!=r["-parent"]){var g=getObject(r["-parent"]);void 0!=g?g.appendChild(n):console.log(r["-parent"]+" does not exist")}return n}function buildFormColor(e,t){void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e);var r=t.id+"_icon";t.width=115;var a="#c0c0c0";void 0!=t.value&&(a=t.value),void 0==t.placeholder&&(t.placeholder="#HEXVAL"),void 0==t["class"]&&(t["class"]="form-control"),t.maxlength=7;var i=document.createElement("div");i.className="input-group",i.style.width=t.width+"px";var n=document.createElement("input");n.type="text",n.maxlength=7,n.className=t["class"],n.style.fontSize="11px",n.style.fontFamily="arial",n.name=e,n.id=t.id,t.required&&n.setAttribute("required",t.required),void 0!=t.value?n.setAttribute("value",t.value):n.setAttribute("value",""),n.classname=t["class"],n.placeholder=t.placeholder,i.appendChild(n);var o=document.createElement("span");if(o.id=r,o.setAttribute("onclick","return colorSelector('"+t.id+"');"),o.className="icon-color-adjust w_bigger w_pointer input-group-addon",o.style.color=a+";padding-left:3px !important;padding-right:6px !important;",o.title="Color Selector",i.appendChild(o),void 0!=t["-parent"]){var s=getObject(t["-parent"]);void 0!=s?s.appendChild(i):console.log(t["-parent"]+" does not exist")}return i}function buildFormCombo(e,t,r){if(void 0==e)return void alert("buildFormCombo requires fieldname");if(void 0==t)return void alert("buildFormCombo requires opts");void 0==r&&(r={}),void 0==r["-formname"]&&(r["-formname"]="addedit"),void 0==r.id&&(r.id=r["-formname"]+"_"+e),void 0==r["class"]&&(r["class"]="form-control");var a=r.id+"_datalist",i=document.createElement("div"),n=document.createElement("input");n.className=r["class"],r.required&&n.setAttribute("required",r.required),void 0!=r.value?n.setAttribute("value",r.value):n.setAttribute("value",""),n.name=e,n.id=r.id,n.setAttribute("list",a),i.appendChild(n);var o=document.createElement("datalist");o.id=a;for(var s in t){var l=document.createElement("OPTION");l.value=s,l.innerHTML=t[s],o.appendChild(l)}if(i.appendChild(o),void 0!=r["-parent"]){var d=getObject(r["-parent"]);void 0!=d?d.appendChild(i):console.log(r["-parent"]+" does not exist")}return i}function buildFormDate(e,t){void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e),void 0==t["class"]&&(t["class"]="form-control"),void 0==t["-control"]&&(t["-control"]="date");var r="";switch(t["-control"]){case"date":void 0==t.title&&(t.title="Date Control"),r="icon-calendar w_pointer input-group-addon",t.width=155,void 0==t.placeholder&&(t.placeholder="YYYY-MM-DD");break;case"datetime":void 0==t.title&&(t.title="Date and Time Control"),r="icon-calendar w_pointer input-group-addon",t.width=220,void 0==t.placeholder&&(t.placeholder="YYYY-MM-DD MH:MM:SS");break;case"time":void 0==t.title&&(t.title="Time Control"),r="icon-clock w_pointer input-group-addon",t.width=115,void 0==t.placeholder&&(t.placeholder="MH:MM:SS")}var a=t.id+"_icon",i="#c0c0c0",n=document.createElement("div");n.className="input-group",n.style.width=t.width+"px";var o=document.createElement("input");o.type="text",o.className=t["class"],o.style.fontSize="12px",o.style.fontFamily="arial",o.name=e,o.id=t.id,t.required&&o.setAttribute("required",t.required),void 0!=t.value&&t.value.length?o.setAttribute("value",t.value):o.setAttribute("value",""),o.classname=t["class"],o.setAttribute("data-type",t["-control"]),o.placeholder=t.placeholder,n.appendChild(o);var s=document.createElement("span");if(s.id=a,s.setAttribute("onclick","return Calendar('"+t.id+"');"),s.className=r,s.style.color=i+";padding-left:3px !important;padding-right:6px !important;",s.title=t.title,"datetime"==t["-control"]&&(s.innerHTML='<span class="icon-clock"></span>'),n.appendChild(s),void 0!=t["-parent"]){var l=getObject(t["-parent"]);void 0!=l?l.appendChild(n):console.log(t["-parent"]+" does not exist")}return n}function buildFormDateTime(e,t){return void 0==t&&(t={}),t["-control"]="datetime",buildFormDate(e,t)}function buildFormHidden(e,t){void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e);var r=document.createElement("input");if(r.type="hidden",r.name=e,void 0!=t.value?r.setAttribute("value",t.value):r.setAttribute("value",""),r.id=t.id,void 0!=t["-parent"]){var a=getObject(t["-parent"]);void 0!=a?a.appendChild(r):console.log(t["-parent"]+" does not exist")}return r}function buildFormPassword(e,t){void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e),void 0==t["class"]&&(t["class"]="form-control");var r=document.createElement("input");if(r.type="password",r.name=e,r.value=t.value,t.required&&r.setAttribute("required",t.required),r.id=t.id,r.className=t["class"],void 0!=t.value?r.setAttribute("value",t.value):r.setAttribute("value",""),void 0!=t["-parent"]){var a=getObject(t["-parent"]);void 0!=a?a.appendChild(r):console.log(t["-parent"]+" does not exist")}return r}function buildFormRadio(e,t,r){return void 0==r&&(r={}),r["-radio"]=!0,buildFormCheckbox(e,t,r)}function buildFormText(e,t){if(void 0==e)return void alert("buildFormText requires fieldname");void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e),void 0==t["class"]&&(t["class"]="form-control");var r=document.createElement("input");if(r.className=t["class"],t.required&&r.setAttribute("required",t.required),void 0!=t.value?r.setAttribute("value",t.value):r.setAttribute("value",""),r.name=e,r.id=t.id,void 0!=t["-parent"]){var a=getObject(t["-parent"]);void 0!=a?a.appendChild(r):console.log(t["-parent"]+" does not exist")}return r}function buildFormTextarea(e,t){if(void 0==e)return void alert("buildFormTextarea requires fieldname");void 0==t&&(t={}),void 0==t["-formname"]&&(t["-formname"]="addedit"),void 0==t.id&&(t.id=t["-formname"]+"_"+e),void 0==t["class"]&&(t["class"]="form-control"),void 0==t.height&&(t.height=50),void 0!=t.behavior&&(t["data-behavior"]=t.behavior);var r=document.createElement("textarea");if(r.className=t["class"],t.required&&r.setAttribute("required",t.required),void 0!=t.value?r.innerHTML=t.value:r.innerHTML="",r.name=e,r.id=t.id,r.style.height=t.height+"px",void 0!=t["data-behavior"])switch(t["data-behavior"].toLowerCase()){case"editor":case"tinymce":case"wysiwyg":case"nicedit":r.setAttribute("data-behavior","nicedit");break;default:r.setAttribute("data-behavior",t["data-behavior"])}if(void 0!=t["-parent"]){var a=getObject(t["-parent"]);void 0!=a?a.appendChild(r):console.log(t["-parent"]+" does not exist")}return r}function buildFormTime(e,t){return void 0==t&&(t={}),t["-control"]="time",buildFormDate(e,t)}function buildFormSelect(e,t,r){if(void 0==e||!e.length)return void alert("buildFormSelect Error: no name");if(e=e.replace("/[[]]+$/",""),void 0==r&&(r={}),void 0==t)return void alert("buildFormSelect Error: no opts");void 0==r["-formname"]&&(r["-formname"]="addedit"),void 0==r.id&&(r.id=r["-formname"]+"_"+e);var a=document.createElement("select");a.className=r["class"],r.required&&a.setAttribute("required",r.required),a.name=e,a.id=r.id;for(var i in t){var n=document.createElement("OPTION");n.value=i,n.innerHTML=t[i],void 0!=r.value&&i==r.value&&n.setAttribute("selected",!0),a.appendChild(n)}if(void 0!=r["-parent"]){var o=getObject(r["-parent"]);void 0!=o?o.appendChild(a):console.log(r["-parent"]+" does not exist")}return a}function comboCompleteMatch(e,t){e=e.toLowerCase();for(var r=0;r<t.length;r++)if(aval=t[r].toLowerCase(),0==aval.indexOf(e))return r;return-1}function comboComplete(e,t,r){for(var a=getText(r),i=a.split("\n"),n=new Array,o=0;o<i.length;o++)if(void 0!=i[o]){var s=trim(i[o]);if(0!=s.length){var l=s.match(/tval=\"(.+?)\"/gi);if(void 0!=l)for(m in l){var d=l[m]+"";if(-1!=d.indexOf('tval="')){var u=d.replace('tval="',"");u=u.replace(/\"$/,""),n.push(u)}}}}var c=parseInt(t.keyCode);switch(c){case 38:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p>0&&(p-=1,void 0!=n[p]))return e.value=n[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 40:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p<n.length&&(p+=1,void 0!=n[p]))return e.value=n[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 37:case 39:case 33:case 34:case 36:case 35:case 13:case 9:case 27:case 16:case 17:case 18:case 20:case 8:case 46:return!0;default:textboxReplaceSelect(e,String.fromCharCode(isIE?t.keyCode:t.charCode));var v=e.value.length,p=comboCompleteMatch(e.value,n);return p>-1&&(e.value=n[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length)),!1}}function formSetMultiSelectStatus(e){for(var t=e.getAttribute("data-group"),r=GetElementsByAttribute("input","data-group",t),a=GetElementsByAttribute("span","data-group",t),i=new Array,n=0;n<r.length;n++)void 0!=r[n].value&&""!=r[n].value&&r[n].checked&&i.push(r[n].value);for(var o=i.length?"icon-checkbox":"icon-checkbox-empty",n=0;n<a.length;n++)a[n].className=o;return e.checked&&(e.checked=!0),!0}function fielddataChange(e){var t=getParentForm(e),r=t.name,a=e.name,i=e.value,n=t.required;switch(a){case"inputtype":switch(i){case"slider":setText(r+"_height_dname","Min"),setText(r+"_inputmax_dname","Max"),setText(r+"_required_dname","Step"),n.type="text",n.style.width="25px";break;default:setText(r+"_height_dname","Height"),setText(r+"_inputmax_dname","Inputmax"),setText(r+"_required_dname","Required"),n.type="checkbox",n.style.width=""}}}function filemanagerEdit(e,t,r){var a=getObject(e),i=a.getAttribute("filename"),n=getText(a),o="";if(o+='<div class="w_centerpop_title">File Manager File Edit</div>\n',o+='<div  style="padding:0 25px 0 25px;">\n',o+='	<form method="post" action="/'+t+'" onSubmit="return submitForm(this);">\n',o+='		<div class="row">\n',o+='			<label for="file_name">Name</label><input type="text" id="file_name" name="file_name" value="'+i+'" class="form-control">\n',o+="		</div>\n",o+='		<div class="row">\n',o+='			<label for="file_desc">Desc</label><textarea name="file_desc" class="form-control" onkeypress="autoGrow(this,200);">'+n+"</textarea>\n",o+="		</div>\n",o+='		<div class="row text-right" style="margin-top:20px;"><button type="submit" class="btn btn-primary">Save Changes</button></div>\n',r){o+='<div style="display:none" id="params">\n';for(var s in r)o+='<textarea name="'+s+'">'+r[s]+"</textarea>\n";o+="</div>\n"}return o+="</form>\n",o+="</div>\n",centerpopDiv(o),!1}function formatPhone(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var r=t.substr(0,3),a=t.substr(3,3),i=t.substr(6,4);return t=r,a.length>0&&(t+="-"+a),i.length>0&&(t+="-"+i),t}function formatCalendar(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var r=t.substr(0,2),a=t.substr(2,2),i=t.substr(4,4);return t=r,a.length>0&&(t+="-"+a),i.length>0&&(t+="-"+i),t}function getElementForm(e){for(;e&&void 0!=e.nodeName&&"FORM"!=e.nodeName;)e=e.parentNode;return e}function dynamicSelect(e,t,r){if(void 0==e)return!1;void 0==t&&(t="other");var a=e.name;if(e.getAttribute("data-displayname")?a=e.getAttribute("data-displayname"):e.getAttribute("displayname")&&(a=e.getAttribute("displayname")),void 0==r&&(r="Enter "+t+' "'+a+'" below and click OK.'),e.value.toLowerCase()==t.toLowerCase()){var i=prompt(r);if(void 0!=i&&i.length>0){for(var n=0;n<e.options.length;n++)if(e.options[n].value==i)return e.value=e.options[n].value,!1;e.options[e.length]=new Option(i.toLowerCase(),i),e.value=i}}return!1}function scheduleHeartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var r=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_heartbeat=setTimeout("heartbeat('"+e+"',"+t+")",r)}function heartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/index.php",e,"_heartbeat=1&t="+t+"&div="+e)}function scheduleSessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var r=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_session_errors=setTimeout("sessionErrors('"+e+"',"+t+")",r)}function sessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/admin.php",e,"_menu=session_errors&t="+t+"&div="+e)}function redrawField(e,t){for(var r=getElementForm(t),a=r.getAttribute("name"),i=a+"_"+e+"_content",n=r._table.value,o=n+":"+e,s={_redraw:o,opt_0:t.name,val_0:t.value},l=r[e],d=0;d<l.attributes.length;d++)l.attributes.item(d).specified&&(s["att_"+l.attributes.item(d).nodeName]=l.attributes.item(d).value);return ajaxGet("/php/index.php",i,s),!1}function changeModelType(e){var t=getElementForm(e),r="";if(!(void 0!=t._id&&(r=getText(t.functions),r.length>0))){var a=t.name.value;r="",0==e.value||(r+="<?php\r\n",r+="/* Available functions: Each function should return the array that was passed in.\r\n",r+="\r\n",r+="	//addDBRecord triggers\r\n",r+="	function "+a+"AddBefore($params=array()){}\r\n",r+="	function "+a+"AddSuccess($params=array()){}\r\n",r+="	function "+a+"AddFailure($params=array()){}\r\n",r+="\r\n",r+="	//editDBRecord triggers\r\n",r+="	function "+a+"EditBefore($params=array()){}\r\n",r+="	function "+a+"EditSuccess($params=array()){}\r\n",r+="	function "+a+"EditFailure($params=array()){}\r\n",r+="\r\n",r+="	//delDBRecord triggers\r\n",r+="	function "+a+"DeleteBefore($params=array()){}\r\n",r+="	function "+a+"DeleteSuccess($params=array()){}\r\n",r+="	function "+a+"DeleteFailure($params=array()){}\r\n",r+="\r\n",r+="	//getDBRecord, listDBRecords, and getDBRecords trigger\r\n",r+="	function "+a+"GetRecord($rec=array()){}\r\n",r+="*/\r\n\r\n",r+="?>\r\n"),setText(t.functions,r)}}function remindMeForm(){var e="remindMePopup",t="";t+='	<div class="w_centerpop_content" id="remindmediv" style="width:300px;">\n',t+='		<form method="POST" name="remindMe" class="w_form" action="/php/index.php" onSubmit="ajaxSubmitForm(this,\'remindmediv\');return false;">\n',t+='			<input type="hidden" name="_remind" value="1">\n',t+='			<input type="hidden" name="tname" value="remind me">\n',t+='			<div class="w_gray"> Enter the email address tied to your account profile to have your username and password emailed to you.</div>\n',t+='			<div><span class="icon-mail"></span> <b>Email Address</b></div>\n',t+=' 			<div><input type="text" maxlength="255" name="email" placeholder="email address" pattern=".+@.+..{2,6}" data-pattern-msg="Invalid Email Address" data-required="1" data-requiredmsg="Enter the email address you registered with." value="" onFocus="this.select();" class="form-control"></div>\n',t+='			<div align="right" style="margin-right:2px;margin-top:5px;"><button type="submit" class="btn btn-primary w_formsubmit">Remind Me</button></div>\n',t+="		</form>",t+="	</div>\n";var r='<span class="icon-info"></span> Remind Me Form';return popUpDiv("",{id:e,width:300,height:50,drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"}),setCenterPopText(e,t,{title:r}),document.remindMe.email.focus(),!1}function setProcessing(e,t,r){void 0==r&&(r=1),void 0==t&&(t="Processing ...");var a=getProcessingDiv(e,t,r);setText(e,a)}function getProcessingDiv(e,t,r){void 0==r&&(r=1),void 0==t&&(t="Processing. Please Wait ...");var a='<div style="display:table-cell;">';return a+='<div><img src="/wfiles/loading_blu.gif" alt="loading" /> '+t+"</div>",1==r&&(a+='<div align="right" style="padding:5px 0 0 0;"><a href="#cancel" onclick="return ajaxAbort(\''+e+'\');" class="btn btn-default btn-sm" style="display:table-cell;padding:0 2px 0 2px;font-size:14px;">Cancel <span class="icon-cancel-circled" style="font-size:18px;"></span></a></div>'),a+="</div>"}function submitRemindMeForm(e){return setProcessing("reminderMessage"),ajaxSubmitForm(e,"remindMeForm_Body"),!1}function setDateTimeBox(e,t,r,a,i){if(void 0==t||0==t.length){var n=new Date;t=n.getMonth()+"-"+n.getDate()+"-"+n.getFullYear()}var o=t.split("-",3);r=parseInt(1*r),"PM"==i&&(r+=12),10>r&&(r="0"+r),1==a.length&&(a="0"+a);var s=o[2]+"-"+o[0]+"-"+o[1]+" "+r+":"+a+":00";return setText(e,s),1}function setSliderText(e){var t=e.value,r=getAllAttributes(e);if(void 0!=r["data-label"]){if(void 0!=r["data-labelmap"]){r["data-labelmap"]=str_replace("'",'"',r["data-labelmap"]);var a=JSON.parse(r["data-labelmap"]);if(void 0!=a[t])return void setText(r["data-label"],a[t])}setText(r["data-label"],t)}}function setTimeBox(e,t,r,a){t=parseInt(1*t),"PM"==a&&(t+=12),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r);var i=t+":"+r+":00";return setText(e,i),1}function showColors(e,t,r){window.status=e+","+t+","+r;var a=document.getElementById(t);a.innerHTML=e,a=document.getElementById(r),a.style.backgroundColor=e}function showColor(e){showColors(e,"show_hex","show_color")}function selectColor(e,t,r){setHexObj=t,setHexDiv=e,setHexImg=r,ajaxGet("/wfiles/colortable.html",e)}function colorSelector(e){var t=getObject(e);if(void 0==t)return alert(e+" does not exist"),!1;var r=getObject(e+"_wrapper");if(void 0!=r)return removeId(r),!1;t.style.position="relative",this.iconid=e+"_icon";var a=getObject(this.iconid),i=getHeight(t);this.wrapper=document.createElement("div"),this.wrapper.style.width="115px",this.wrapper.style.height="134px",this.wrapper.id=e+"_wrapper",this.wrapper.style.position="absolute",this.wrapper.style.top=i+"px",this.wrapper.style.left="0px",this.wrapper.style.zIndex="99999",this.wrapper.style.border="1px solid #C0C0C0",this.wrapper.style.backgroundColor="#FFFFFF",this.wrapper.style.borderBottom="10px solid #C0C0C0",a.insertAdjacentElement("afterEnd",this.wrapper),this.colorbox=document.createElement("div"),this.colorbox.style.width="80px",this.colorbox.style.height="100px",this.colorbox.style.position="absolute",this.colorbox.style.top="0px",this.colorbox.style.left="0px",this.colorbox.style.cursor="crosshair",this.colorbox.id=e+"_colorbox",this.wrapper.insertAdjacentElement("afterBegin",this.colorbox),this.slider=document.createElement("div"),this.slider.style.width="35px",this.slider.style.height="100px",this.slider.style.position="absolute",this.slider.style.top="0px",this.slider.style.right="0px",this.slider.style.cursor="crosshair",this.slider.id=e+"_slider",this.wrapper.insertAdjacentElement("afterBegin",this.slider),this.valuebox=document.createElement("div"),this.valuebox.style.width="115px",this.valuebox.style.height="24px",this.valuebox.style.position="absolute",this.valuebox.style.top="100px",this.valuebox.style.left="0px",this.valuebox.id=e+"_valuebox",this.wrapper.insertAdjacentElement("afterBegin",this.valuebox),this.setid=e+"_set",this.btnid=e+"_btn",this.lineid=e+"_line";var n='<div style="font-size:14px;height:30px;width:115px;font-family:arial;position:relative;">';return n+='<div style="position:absolute;top:0px;right:3px;cursor:pointer;" onclick="colorSelectorSet(\''+e+'\')" title="Set Color"><span id="'+this.btnid+'" class="icon-checkbox" style="font-size:18px;cursor:pointer;color:none;"></span></div>',n+='<div style="position:absolute;top:0px;left:5px;" id="'+this.setid+'"></div>',n+="</div>",setText(this.valuebox,n),this.picker=ColorPicker(this.slider,this.colorbox,function(e,t,r){var a=this.control_id+"_btn",i=this.control_id+"_set",n=this.control_id+"_wrapper";e=e.toUpperCase(),setText(i,e),setStyle(a,"color",e),setStyle(n,"borderBottom","10px solid "+e)}),this.picker.control_id=e,this.picker.id=this.wrapper.id,t.value.length&&this.picker.setHex(t.value),!1}function colorSelectorSet(e){var t=e+"_set",r=e+"_wrapper",a=e+"_icon",i=getText(t);return setText(e,i),setStyle(a,"color",i),removeId(r),!1}function setHex(e){setText(setHexObj,e),setText(setHexDiv,""),setStyle(setHexImg,"backgroundColor",e)}function showToolbar(e,t){for(var r=GetElementsByAttribute("div","id","toolbar"),a=0;a<r.length;a++){var i=r[a].getAttribute("field"),n=r[a].getAttribute("category");i==e&&n==t?r[a].style.display="block":r[a].style.display="none"}}function setRadioLabel(e){for(var t=GetElementsByAttribute("input","name","^"+e+"$"),r=0;r<t.length;r++)for(var a=t[r].id,i=GetElementsByAttribute("label","for","^"+a+"$"),n=0;n<i.length;n++)t[r].checked?setClassName(i[n],"w_checklist_checked"):setClassName(i[n],"w_checklist")}function setLabelChecked(e,t,r,a,i){var n=GetElementsByAttribute("label",e,"^"+t+"$");if(void 0!=a&&void 0!=i)for(var o=0;o<n.length;o++)r?setClassName(n[o],i):setClassName(n[o],a);else for(var o=0;o<n.length;o++)r?setClassName(n[o],"w_checklist_checked"):setClassName(n[o],"w_checklist");return!0}function checkAllElements(e,t,r){for(var a=GetElementsByAttribute("input",e,"^"+t+"$"),i=0,n=0;n<a.length;n++)"checkbox"==a[n].type&&(a[n].checked=r,i++);return r?i:0}function setTimeField(e,t){var r=new Date,a=r.getMonth()+1;1==a.length&&(a="0"+a);var i=r.getDate();1==i.length&&(i="0"+i);var n=a+"-"+i+"-"+r.getFullYear(),o=r.getHours(),s=r.getMinutes();10>s&&(s="0"+s);var l="am";0==o?(o=12,l="am"):o>12&&(o-=12,l="pm"),10>o&&(o="0"+o);var d=getObject(e+"_"+t+"_date");void 0!=d&&(d.value=n);var d=getObject(e+"_"+t+"_hour");void 0!=d&&(d.value=o);var d=getObject(e+"_"+t+"_minute");void 0!=d&&(d.value=s);var d=getObject(e+"_"+t+"_ampm");void 0!=d&&(d.value=l)}function insertAtCursor(e,t){var r=getObject(e);if(document.selection)r.focus(),sel=document.selection.createRange(),sel.text=t;else if(r.selectionStart||"0"==r.selectionStart){var a=r.selectionStart,i=r.selectionEnd;r.value=r.value.substring(0,a)+t+r.value.substring(i,r.value.length)}else r.value+=t}function isCreditCardNumber(e){var t="0123456789",r=e.length,a=parseInt(e),i=e.toString();i=i.replace(/^\s+|\s+$/g,"");for(var n,o,s=0,l=0;r>l;l++)if(n=""+i.substring(l,l+1),"-1"==t.indexOf(n))return!1;if(r>=15&&20>=r){for(var d=r;d>0;d--){switch(o=parseInt(a)%10,o=parseInt(o),s+=o,d--,a/=10,o=parseInt(a)%10,o=2*o){case 10:o=1;break;case 12:o=3;break;case 14:o=5;break;case 16:o=7;break;case 18:o=9;break;default:o=o}a/=10,s+=o}var u=s%10;return 0==u?!0:!1}return!1}function textboxSelect(e,t,r){switch(arguments.length){case 1:e.select();break;case 2:r=e.value.length;case 3:if(isIE){var a=e.createTextRange();a.moveStart("character",t),a.moveEnd("character",-e.value.length+r),a.select()}else isMoz&&e.setSelectionRange(t,r)}e.focus()}function textboxReplaceSelect(e,t){if(isIE){var r=document.selection.createRange();r.text=t,r.collapse(!0),r.select()}else if(isMoz){var a=e.selectionStart;e.value=e.value.substring(0,a)+t+e.value.substring(e.selectionEnd,e.value.length),e.setSelectionRange(a+t.length,a+t.length)}e.focus()}function submitForm(e,t,r,a){if(void 0==e)return alert("No form object passed to submitForm"),!1;if(void 0!=e._action&&"Delete"==e._action.value)return!0;t=1;var i=new Array;if(i.alpha="^[a-zA-Z_\\-\\?\\ \\']+$",i.alphanumeric="^[0-9a-zA-Z_\\-\\.\\?\\ \\']+$",i.calendar="^[0-9]{1,2}\\-[0-9]{1,2}\\-[0-9]{1,4}$",i.email=".+@.+\\..{2,6}",i.integer="^[0-9]+$",i.hexcolor="^#[abcdef0-9]{6,6}$",i.decimal="^[0-9]*\\.[0-9]+$",i.number="(^[0-9]+$)|(^\\.[0-9]+$)|(^[0-9]+\\.[0-9]+$)",i.phone="^([0-9]{3,3}[\\-\\.][0-9]{3,3}[\\-\\.][0-9]{4,4}|\\([0-9]{3,3}\\)\\ [0-9]{3,3}[\\-][0-9]{4,4})$",i.time="^[0-9]{1,2}\\:[0-9]{2}$",i.ssn="^[0-9]{3,3}\\-[0-9]{2,2}\\-[0-9]{4,4}$",i.zipcode="^[0-9]{5,5}(\\-[0-9]{4,4})*$",0==e.length)return!1;1==r&&alert("Form length: "+e.length);for(var n=new Array,o=0;o<e.length;o++){if(1==r&&alert("Checking "+e[o].name+" of type "+e[o].type),in_array(e[o].name,n)||"_formfields"==e[o].name||(n[n.length]=e[o].name),"password"==e[o].name&&void 0!=e.password_confirm){if(0==e[o].value.length||0==e.password_confirm.value.length)return submitFormAlert("Password is required",t,5),e[o].focus(),!1;if(e[o].value!=e.password_confirm.value)return submitFormAlert("Passwords do not match.  Please retype password.",t,5),e[o].focus(),!1}if("email"==e[o].name&&void 0!=e.email_confirm){if(0==e[o].value.length||0==e.email_confirm.value.length)return submitFormAlert("Email is required",t,3),e[o].focus(),!1;if(e[o].value!=e.email_confirm.value)return submitFormAlert("Emails do not match.",t,3),e[o].focus(),!1}var l=e[o].name;e[o].getAttribute("data-displayname")?l=e[o].getAttribute("data-displayname"):e[o].getAttribute("displayname")&&(l=e[o].getAttribute("displayname"));var d=0;if(void 0!=e[o].getAttribute("_required")?d=e[o].getAttribute("_required"):void 0!=e[o].getAttribute("data-required")?d=e[o].getAttribute("data-required"):void 0!=e[o].getAttribute("required")&&(d=e[o].getAttribute("required")),1==d){var u=e[o].getAttribute("data-requiredmsg");if(void 0==u&&(u=e[o].getAttribute("requiredmsg")),"checkbox"==e[o].type){var c="name";e[o].getAttribute("checkname")&&(c=e[o].getAttribute("checkname"));for(var p=e[o].getAttribute(c),v=GetElementsByAttribute("input",c,p),m=0,f=0;f<v.length;f++)"checkbox"==v[f].type&&v[f].checked?m++:"text"==v[f].type&&""!=v[f].value&&m++;if(0==m){var h=l+" is required";return void 0!=u&&(h=u),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("radio"==e[o].type){for(var v=GetElementsByAttribute("input","name",e[o].name),m=0,f=0;f<v.length;f++)"radio"==v[f].type&&v[f].checked?m++:"text"==v[f].type&&""!=v[f].value&&m++;if(0==m){var h=l+" is required";return void 0!=u&&(h=u),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("textarea"==e[o].type){var g=trim(getText(e[o]));if(0==g.length){var h=l+" is required";return void 0!=u&&(h=u),submitFormAlert(h,t,5),e[o].focus(),!1}}else if(""==e[o].value){var h=l+" is required";return void 0!=u&&(h=u),submitFormAlert(h,t,5),e[o].focus(),!1}}var b=e[o].getAttribute("pattern");if(void 0==b&&(b=e[o].getAttribute("mask")),void 0==b&&(b=e[o].getAttribute("data-mask")),void 0!=b&&""!=b&&""!=e[o].value){var x=e[o].getAttribute("data-pattern-msg");if(void 0==x&&(x=e[o].getAttribute("maskmsg")),"ccnumber"==b){if(0==isCreditCardNumber(e[o].value)){var h=l+" must be of valid credit card number ";return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("date"==b){if(0==isDate(e[o].value)){var h=l+" must be of valid date ";return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("futuredate"==b){if(0==isFutureDate(e[o].value)){var h=l+" must be of valid date in the future ";return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("pastdate"==b){if(0==isPastDate(e[o].value)){var h=l+" must be of valid date in the past ";return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("intlphone"==b){if(0==checkInternationalPhone(e[o].value)){var h=l+" must be a valid phone number";return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}else if("searchandreplace"!=b){"phone"==b?e[o].value=formatPhone(e[o].value):"calendar"==b&&(e[o].value=formatCalendar(e[o].value));var y=b;void 0!=i[b]&&(y=i[b]+"");var A=new RegExp(y,"i");if(0==A.test(e[o].value)){var h=l+" must be of type "+b;return void 0!=x&&(h=x),submitFormAlert(h,t,5),e[o].focus(),!1}}}if("textarea"==e[o].type&&e[o].getAttribute("maxlength")){var _=e[o].value.length,w=Math.abs(e[o].getAttribute("maxlength"));if(_>w){var h=l+" must be less than "+w+" characters\nYou entered "+_+" characters.";return e[o].getAttribute("maxlengthmsg")&&(h=e[o].getAttribute("maxlengthmsg")),submitFormAlert(h,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minlength")){var _=e[o].value.length,q=Math.abs(e[o].getAttribute("minlength"));if(q>_){var h=l+" must be at least "+q+" characters.\nYou entered "+_+" characters.";return e[o].getAttribute("minlengthmsg")&&(h=e[o].getAttribute("minlengthmsg")),
submitFormAlert(h,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minwords")){var k=getWordCount(e[o]),C=Math.abs(e[o].getAttribute("minwords"));if(C>_){var h=l+" must be at least "+C+" words in length.\nYou entered "+k+" words.";return e[o].getAttribute("minwordsmsg")&&(h=e[o].getAttribute("minwordsmsg")),submitFormAlert(h,t,5),e[o].focus(),!1}}if(e[o].getAttribute("maxwords")){var k=getWordCount(e[o]),j=Math.abs(e[o].getAttribute("maxwords"));if(j>_){var h=l+" must be less than "+j+" words in length.\nYou entered "+k+" words.";return e[o].getAttribute("maxwordsmsg")&&(h=e[o].getAttribute("maxwordsmsg")),submitFormAlert(h,t,5),e[o].focus(),!1}}if("file"==e[o].type&&e[o].getAttribute("accept")&&e[o].value.length){var E=e[o].getAttribute("accept");1==r&&alert(" -- File type allowed exts:"+E);var R=E.split(","),T=0;for(s=0;s<R.length;s++)-1!=e[o].value.lastIndexOf(R[s])&&T++;if(0==T){var h=l+" must be of valid file type:  "+E;return e[o].getAttribute("acceptmsg")&&(h=e[o].getAttribute("acceptmsg")),submitFormAlert(h,t,5),e[o].focus(),!1}}}for(var o=0;o<e.length;o++){var F=e[o].getAttribute("data-behavior"),O=e[o].getAttribute("id");void 0==F||"wysiwyg"!=F&&"richtext"!=F&&"tinymce"!=F&&"nicedit"!=F||void 0==nicEditors[O]||(1==a&&nicEditors.findEditor(O).saveContent(),nicEditors[O].removeInstance(O))}for(var I=implode(",",n),S=0,o=0;o<e.length;o++)if("_formfields"==e[o].name){e[o].value=I,S=1;break}if(0==S){var H=document.createElement("input");H.type="hidden",H.name="_formfields",H.value=I,e.appendChild(H)}return!0}function imposeMaxlength(e,t){return e.value.length<=t}function pagingBulkEdit(e){if(0==e.filter_field.value.length||"*"==e.filter_field.value)return alert("select a field to edit"),!1;var t="";return t=0==e.filter_value.value.length?"NULL":"'"+e.filter_value.value+"'",confirm("Are you sure you want to update the current dataset?\r\n\r\nMass Update '"+e.filter_field.value+"' field to "+t+"?\r\n\r\nClick OK to confirm.  THIS IS NOT REVERSABLE.")?(e._bulkedit.value="1",void e.submit()):!1}function pagingExport(e){e._export.value="1",e.submit()}function pagingAddFilter(e){if(0==e.filter_field.value.length)return alert("select a filter field"),!1;if(0==e.filter_operator.value.length)return alert("select a filter operator"),!1;if("*"==e.filter_field.value&&("ib"==e.filter_operator.value||"nb"==e.filter_operator.value))return alert("select a field to check for null values on"),e.filter_field.focus(),!1;if("*"==e.filter_field.value||"ib"!=e.filter_operator.value&&"nb"!=e.filter_operator.value){if(0==e.filter_value.value.length&&"null"!=e.filter_operator.value)return e.filter_value.focus(),!1}else;var t=e.filter_field.value+e.filter_operator.value+e.filter_value.value,r=getObject(t);new Array;if(void 0!=r)r.style.display="inline-block";else{var a=document.createElement("div");a.className="w_pagingfilter",a.setAttribute("data-field",e.filter_field.value),a.setAttribute("data-operator",e.filter_operator.value),a.setAttribute("data-value",e.filter_value.value),a.id=t;var i=e.filter_field.value;"*"==i&&(i="Any Field");var n=e.filter_operator.value,o="'"+e.filter_value.value+"'";switch(n){case"ct":n="Contains";break;case"nct":n="Not Contains";break;case"ca":n="Contains Any of These";break;case"nca":n="Not Contain Any of These";break;case"eq":n="Equals";break;case"neq":n="Not Equals";break;case"ea":n="Equals Any of These";break;case"nea":n="Not Equals Any of These";break;case"gt":n="Greater Than";break;case"lt":n="Less Than";break;case"egt":n="Equals or Greater than";break;case"elt":n="Less than or Equals";break;case"ib":n="Is Blank",o="";break;case"nb":n="Is Not Blank",o=""}a.innerHTML='<span class="icon-filter w_grey"></span> '+i+" "+n+" "+o+' <span class="icon-cancel w_danger w_pointer" onclick="removeId(\''+t+"');\"></span>";var s=getObject("send_to_filters");s.appendChild(a)}r=getObject("paging_clear_filters"),void 0!=r&&removeId(r);var a=document.createElement("div");a.className="w_pagingfilter  icon-erase w_danger",a.id="paging_clear_filters",a.setAttribute("title","Clear All Filters"),a.onclick=function(){pagingClearFilters()};var s=getObject("send_to_filters");s.appendChild(a),e.filter_value.value="",e.filter_value.focus()}function pagingSetFilters(e){for(var t=document.querySelectorAll(".w_pagingfilter"),r=new Array,a=0;a<t.length;a++)if("none"!=t[a].style.display&&void 0!=t[a].getAttribute("data-field")&&"null"!=t[a].getAttribute("data-field")){var i=t[a].getAttribute("data-field")+"-"+t[a].getAttribute("data-operator")+"-"+t[a].getAttribute("data-value");r.push(i)}e._filters.value=implode("\r\n",r),void 0!=e._bulkedit&&(e._bulkedit.value=""),void 0!=e._export&&(e._export.value="")}function pagingClearFilters(){for(var e=document.querySelectorAll(".w_pagingfilter"),t=0;t<e.length;t++)removeId(e[t]);for(var e=GetElementsByAttribute("textarea","name","_filters"),t=0;t<e.length;t++)setText(e[t],"")}function submitSurveyForm(e,t){if(void 0==e)return alert("submitSurveyForm Error: No Form"),!1;if(!submitForm(e))return!1;for(var r=new Array,a=0;a<e.length;a++){var i=e[a].name;r[i]=1}for(var a=0;a<e.length;a++)if(void 0!=e[a].name){var i=e[a].name;if(0!=i.length&&void 0!=t)for(var n in t)if(1==t[n]&&e[a].getAttribute(n)){var o=e[a].getAttribute(n);if(o.length){var s=n+"_"+i;if(void 0==r[s]){r[s]=1;var l=document.createElement("textarea");l.setAttribute("NAME",s),l.style.display="none",l.value=o,e.appendChild(l)}}}}return!0}function checkInternationalPhone(e){var t=".()- ",r=t+"+",a=10,i=3;if(e=trim(e),e.indexOf("+")>1)return!1;if(-1!=e.indexOf("-")&&(i+=1),-1!=e.indexOf("(")&&e.indexOf("(")>i)return!1;var n=e.indexOf("(");return-1!=e.indexOf("(")&&")"!=e.charAt(n+2)?!1:-1==e.indexOf("(")&&-1!=e.indexOf(")")?!1:(s=stripCharsInBag(e,r),isInteger(s)&&s.length>=a)}function isInteger(e){var t;for(t=0;t<e.length;t++){var r=e.charAt(t);if("0">r||r>"9")return!1}return!0}function trim(e){if(null!=e&&void 0!=e&&""!=e){var t=e.replace(/^[\ \s\0\r\n\t]*/g,"");return t=t.replace(/[\ \s\0\r\n\t]*$/g,"")}return""}function stripCharsInBag(e,t){var r,a="";for(r=0;r<e.length;r++){var i=e.charAt(r);-1==t.indexOf(i)&&(a+=i)}return a}function submitFormAlert(e,t,r){return void 0==t&&(t=0),t?(html="",html+='<div class="w_centerpop_title"><span class="icon-warning w_danger"></span> Error Processing Request</div>\n',html+='<div class="w_centerpop_content">\n',html+='	<div class="w_big w_dblue"> - '+e+"</div>\n",html+='	<div class="w_smallest w_right w_lblue" style="margin-right:20px;" id="centerpop2_countdown">4</div>\n',html+="</div>\n",centerpopDiv(html,3,2),countDown("centerpop2_countdown")):alert(e),!1}function showFormData(e,t){if(void 0==e)return alert("No form object passed to formData"),!1;if(0==e.length)return!1;for(var r="",a=0;a<e.length;a++){var i=e[a].name,n=typeof e[a];r+="Name: "+i+"<br>\r\n",r+="Type: "+n+"<br>\r\n"}t?setText(t,r):alert(r)}function checkPerl(e,t){if(void 0==document._perlcheck)return alert("document._perlcheck does not exist."),!1;var r=e+"_perlcheck";return void 0==t?(alert("Nothing to check."),!1):0==t.length?(alert("Nothing to check."),!1):(document.getElementById(r).innerHTML='<img src="/wfiles/busy.gif" title="checking Perl syntax" width="12" height="12" alt="checking Perl syntax" />',document._perlcheck.perlcheck.value=t,ajaxSubmitForm(document._perlcheck,r,5),!1)}function cloneObj(e){var t=getObject(e),r=t.getAttribute("inc");void 0==r?r=1:(r=parseFloat(r),r++),t.setAttribute("inc",r);var a=t.cloneNode(!0);void 0!=a.id&&a.setAttribute("id",a.id+"_"+r),void 0!=a.style.display&&"none"==a.style.display&&(a.style.display="block");for(var i=a.getElementsByTagName("input"),n=a.getElementsByTagName("img"),o=0;o<i.length;o++){var s=i[o].getAttribute("name"),l=i[o].getAttribute("id");if((void 0==l||0==l.length)&&(l=s),void 0!=s){var d=i[o].getAttribute("type");"_clone"==s&&"button"==d.toLowerCase()&&(i[o].style.display="none"),"button"!=d.toLowerCase()&&"hidden"!=d.toLowerCase()&&(i[o].value="");var u=s+"_"+r,c=l+"_"+r;if(u.indexOf("[]")>1&&(u=s),-1!=s.indexOf("_path")&&(u=s.replace(/path/,""),u+=r+"_path"),-1!=s.indexOf("_autonumber")&&(u=s.replace(/autonumber/,""),u+=r+"_autonumber"),i[o].setAttribute("name",u),void 0!=l&&-1!=l.indexOf("_datecontrol")&&(c+="_datecontrol"),i[o].setAttribute("id",c),void 0!=l)for(var p=0;p<n.length;p++)if(void 0!=n[p].getAttribute("onclick")){var v=n[p].getAttribute("onclick");"function"==typeof v.replace&&(v=v.replace(l,c)),n[p].setAttribute("onclick",v)}}}for(var m=a.getElementsByTagName("select"),o=0;o<m.length;o++){var s=m[o].getAttribute("name");if(void 0!=s){var u=s+"_"+r;m[o].setAttribute("name",u),m[o].setAttribute("id",u)}}for(var f=a.getElementsByTagName("textarea"),o=0;o<f.length;o++){var s=f[o].getAttribute("name");if(void 0!=s){f[o].value="";var u=s+"_"+r;f[o].setAttribute("name",u),f[o].setAttribute("id",u)}}return t.parentNode.appendChild(a),r}function ajaxSubmitForm(e,t,r,a,i,n){return ajaxPost(e,t,r,a,i,n)}function ajaxPopup(e,t,r){var a="ajaxPopupDiv",i={id:a,drag:1};if(r){for(var n in i)void 0!=r[n]&&(i[n]=r[n]);for(var n in r)void 0==i[n]&&(i[n]=r[n])}popUpDiv('<div class="w_bold w_lblue w_big"><img src="/wfiles/loading_blu.gif" alt="loading" /> loading...please wait.</div>',i),ajaxGet(e,"centerpop",t)}function ajaxPost(theform,sid,tmeout,callback,returnreq,abort_callback){if(void 0==theform)return alert("No form object passed to ajaxPost"),!1;if(void 0!=tmeout&&"novalidation"==tmeout)tmeout=6e5;else{var ok=submitForm(theform,1,0,1);if(!ok)return!1}void 0==callback&&(callback=void 0!=theform.callback&&"hidden"==theform.callback.type&&theform.callback.value.length?theform.callback.value:""),void 0==returnreq&&(returnreq=!1),void 0==abort_callback&&(abort_callback=void 0!=theform.abort_callback&&"hidden"==theform.abort_callback.type&&theform.abort_callback.value.length?theform.abort_callback.value:""),void 0==tmeout&&(tmeout=6e5),18e4>tmeout&&(tmeout=18e4);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxPost\n"+sid+" is not defined as a valid object id"),!1;"undefined"!=typeof AjaxRequest.ActiveAjaxGroupRequests[sid]&&ajaxAbort(sid);var showprocessing=!0;void 0!=theform.showprocessing?("false"==theform.setprocessing.value.toLowerCase()&&(showprocessing=!1),"0"==theform.setprocessing.value.toLowerCase()&&(showprocessing=!1)):void 0!=theform.noprocessing&&("true"==theform.noprocessing.value.toLowerCase()&&(showprocessing=!1),"1"==theform.noprocessing.value.toLowerCase()&&(showprocessing=!1));var showprocessingdiv=sid;void 0!=theform.showprocessingdiv?showprocessingdiv=theform.showprocessingdiv.value:void 0!=theform.setprocessing&&(showprocessingdiv=theform.setprocessing.value);var AJUid=(new Date).getTime()+"",h=document.createElement("input");h.type="hidden",h.name="AjaxRequestUniqueId",h.value=AJUid,theform.appendChild(h);var getReq=AjaxRequest.submit(theform,{groupName:sid,timeout:tmeout,callback:callback,abort_callback:abort_callback,showprocessing:showprocessing,showprocessingdiv:showprocessingdiv,AjaxRequestUniqueId:AJUid,onGroupBegin:function(e){var t=this.groupName,r=t.toLowerCase(),a=this.callback;if(a=a.toLowerCase(),-1!=a.indexOf("centerpop")||-1!=r.indexOf("centerpop")){var i=getProcessingDiv(sid);popUpDiv("",{id:t,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"});var n="Processing Request";setCenterPopText(t,i,{title:n,drag:!1,close_bot:!1})}else this.showprocessing&&setProcessing(this.showprocessingdiv)},onGroupEnd:function(e){},onTimeout:function(e){var t=this.groupName,r=this.callback;r=r.toLowerCase();var a='<b style="color:red">ajaxPost Timed Out Error</b>';-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(t,a):setText(t,a),void 0!=theform.setprocessing&&setText(theform.setprocessing.value,"")},onError:function(e){var t=this.groupName,r=this.callback;r=r.toLowerCase();var a='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(t,a):setText(t,a),void 0!=theform.setprocessing&&setText(theform.setprocessing.value,"")},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(void 0!=theform.setprocessing&&setText(theform.setprocessing.value,""),""!=cb)if(-1!=cb.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=cb.indexOf("centerpop"))setCenterPopText(dname,val);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=lname.indexOf("centerpop"))setCenterPopText(dname,val);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val)}isFunction("f_tcalInit")&&f_tcalInit(),initBehaviors(dname)}});return returnreq?getReq:!1}function setCenterPopText(e,t,r){void 0==r&&(r={}),void 0==r.title&&(r.title=""),void 0==r.drag&&(r.drag=!0),void 0==r.close_top&&(r.close_top=!0),void 0==r.close_bot&&(r.close_bot=!0),void 0==r.center&&(r.center=!0);var a="";if(a+='<div class="w_centerpop">\n',r.title.length&&(a+='	<div class="w_centerpop_title">'+r.title+"</div>\n"),r.close_top&&(a+='	<div class="w_centerpop_close_top icon-cancel" title="Click to close" onclick="ajaxAbort(\''+e+"');\"></div>\n"),a+="		"+t+"\n",a+='	<img src="/wfiles/clear.gif" width="1" height="1" style="position:absolute;top:0px;right:5px;" onload="centerObject(\''+e+'\');" alt="" />\n',r.close_bot&&(a+='	<div class="w_centerpop_close_bot icon-cancel" style="font-size:18px;" title="Click to close" onclick="ajaxAbort(\''+e+"');\"></div>\n"),a+="</div>\n",console.log(a),setText(e,a),r.center&&centerObject(e),r.drag){var i=getObject(e),n=document.querySelector('[class="w_centerpop_title"]');void 0!=n&&(Drag.init(n,i),n.style.position="relative",i.style.position="absolute")}}function callWaSQL(e,t,r){var a="/cgi-bin/wasql.pl";ajaxGet(a,t,"&_view="+e+"&"+r)}function ajaxAbort(sid){if("undefined"!=typeof AjaxRequest.ActiveAjaxGroupRequests[sid]){var req=AjaxRequest.ActiveAjaxGroupRequests[sid];if(void 0!=req.abort_callback&&req.abort_callback.length){req.status="aborted";var str=req.abort_callback+"(req);";eval(str)}return req.xmlHttpRequest.abort(),delete req,-1!=sid.indexOf("centerpop")?removeId(sid):setText(sid,req.prevValue),!1}return-1!=sid.indexOf("centerpop")?removeId(sid):setText(sid,""),!1}function ajaxGet(url,sid,xparams,callback,tmeout,nosetprocess,returnreq,newtitle,newurl,abort_callback){var params="",cp_title="",showprocessingdiv=sid,showprocessing=!0;if("object"==typeof xparams){void 0!=xparams.callback&&(callback=xparams.callback),void 0!=xparams.abort_callback&&(abort_callback=xparams.abort_callback),void 0!=xparams.timeout&&(tmeout=xparams.timeout),void 0!=xparams.nosetprocess?xparams.nosetprocess&&(showprocessing=!1):void 0!=xparams.showprocessing&&(xparams.showprocessing||(showprocessing=!1)),void 0!=xparams.setprocessing?showprocessingdiv=xparams.setprocessing:void 0!=xparams.showprocessingdiv&&(showprocessingdiv=xparams.showprocessingdiv),void 0!=xparams.cp_title&&(cp_title=xparams.cp_title);for(var key in xparams)0!=key.indexOf("-")&&"callback"!=key&&"abort_callback"!=key&&"timeout"!=key&&"nosetprocess"!=key&&"showprocessing"!=key&&"setprocessing"!=key&&"showprocessingdiv"!=key&&"cp_title"!=key&&(params=params+key+"="+xparams[key]+"&")}else params=xparams;void 0==newtitle&&(newtitle=void 0!=xparams&&void 0!=xparams["-newtitle"]?xparams["-newtitle"]:""),void 0==newurl&&(newurl=void 0!=xparams&&void 0!=xparams["-newurl"]?xparams["-newurl"]:""),void 0==callback&&(callback=""),void 0==abort_callback&&(abort_callback=""),void 0==returnreq&&(returnreq=!1);var guid=getCookie("GUID");void 0==tmeout&&(tmeout=6e5),18e4>tmeout&&(tmeout=18e4),void 0==nosetprocess&&nosetprocess&&(showprocessing=!1);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxGet\n"+sid+" is not defined as a valid object id"),!1;"undefined"!=typeof AjaxRequest.ActiveAjaxGroupRequests[sid]&&ajaxAbort(sid);var getReq=AjaxRequest.get({url:url+"?"+params,callback:callback,abort_callback:abort_callback,showprocessing:showprocessing,showprocessingdiv:showprocessingdiv,timeout:tmeout,var2:cp_title,var3:newtitle,var4:newurl,groupName:sid,prevValue:getText(sid),onGroupBegin:function(e){var t=this.groupName,r=t.toLowerCase(),a=this.callback.toLowerCase();if(-1!=a.indexOf("centerpop")||-1!=r.indexOf("centerpop")){var i=getProcessingDiv(sid);popUpDiv("",{id:t,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:10px;border:0px;background:#FFF;"});var n="Processing Request";setCenterPopText(t,i,{title:n,drag:!1,close_bot:!1})}else this.showprocessing&&setProcessing(this.showprocessingdiv)},onTimeout:function(e){var t=this.groupName,r=t.toLowerCase(),a=this.callback.toLowerCase(),i='<b style="color:red">ajaxGet Timed Out Error</b>';-1!=a.indexOf("centerpop")||-1!=r.indexOf("centerpop")?setCenterPopText(t,i):setText(t,i)},onError:function(e){var t=this.groupName,r=t.toLowerCase(),a=this.callback.toLowerCase(),i='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=a.indexOf("centerpop")||-1!=r.indexOf("centerpop")?setCenterPopText(t,i):setText(t,i)},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(this.var3.length>0&&this.var4.length>0&&history.pushState(req.responseText,this.var3,this.var4),""!=cb)if(-1!=cb.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=cb.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=lname.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val),void 0!=document.getElementById(dname).getAttribute("onshow")&&"center"==document.getElementById(dname).getAttribute("onshow")&&(document.getElementById(dname).style.position="absolute",centerObject(dname))}initBehaviors(dname)}});return returnreq?getReq:!1}function newXmlHttpRequest(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null}function wpassInput(e){if(!isNum(e))return!0;var t=getObject("wpass_search");if(void 0!=t)return t.value="",ajaxGet("/php/index.php","wpass_info",{_wpass:e}),!1}function AjaxRequest(){var e=new Object;return e.timeout=null,e.generateUniqueUrl=!0,e.url=window.location.href,e.method="GET",e.async=!0,e.username=null,e.password=null,e.xAttribute=null,e.xValue=null,e.xName=null,e.xAction=null,e.xId=null,e.prevValue=null,e.parameters=new Object,e.requestIndex=AjaxRequest.numAjaxRequests++,e.responseReceived=!1,e.showprocessing=!0,e.showprocessingdiv=null,e.groupName=null,e.callback=null,e.abort_callback=null,e.var1=null,e.var2=null,e.var3=null,e.var4=null,e.var5=null,e.AjaxRequestUniqueId=null,e.queryString="",e.responseText=null,e.responseXML=null,e.status=null,e.statusText=null,e.aborted=!1,e.xmlHttpRequest=null,e.onTimeout=null,e.onLoading=null,e.onLoaded=null,e.onInteractive=null,e.onComplete=null,e.onSuccess=null,e.onError=null,e.onGroupBegin=null,e.onGroupEnd=null,e.xmlHttpRequest=AjaxRequest.getXmlHttpRequest(),null==e.xmlHttpRequest?null:(e.xmlHttpRequest.onreadystatechange=function(){null!=e&&null!=e.xmlHttpRequest&&(1==e.xmlHttpRequest.readyState&&e.onLoadingInternal(e),2==e.xmlHttpRequest.readyState&&e.onLoadedInternal(e),3==e.xmlHttpRequest.readyState&&e.onInteractiveInternal(e),4==e.xmlHttpRequest.readyState&&e.onCompleteInternal(e))},e.onLoadingInternalHandled=!1,e.onLoadedInternalHandled=!1,e.onInteractiveInternalHandled=!1,e.onCompleteInternalHandled=!1,e.onLoadingInternal=function(){e.onLoadingInternalHandled||(AjaxRequest.numActiveAjaxRequests++,1==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestBegin&&AjaxRequestBegin(),null!=e.groupName&&("undefined"==typeof AjaxRequest.numActiveAjaxGroupRequests[e.groupName]?(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]=0,AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e):AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e,AjaxRequest.numActiveAjaxGroupRequests[e.groupName]++,1==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupBegin&&e.onGroupBegin(e.groupName)),"function"==typeof e.onLoading&&e.onLoading(e),e.onLoadingInternalHandled=!0)},e.onLoadedInternal=function(){e.onLoadedInternalHandled||("function"==typeof e.onLoaded&&e.onLoaded(e),e.onLoadedInternalHandled=!0)},e.onInteractiveInternal=function(){e.onInteractiveInternalHandled||("function"==typeof e.onInteractive&&e.onInteractive(e),e.onInteractiveInternalHandled=!0)},e.onCompleteInternal=function(){e.onCompleteInternalHandled||e.aborted||(e.onCompleteInternalHandled=!0,AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),e.responseReceived=!0,e.status=e.xmlHttpRequest.status,e.statusText=e.xmlHttpRequest.statusText,e.responseText=e.xmlHttpRequest.responseText,e.responseXML=e.xmlHttpRequest.responseXML,"function"==typeof e.onComplete&&e.onComplete(e),200==e.xmlHttpRequest.status&&"function"==typeof e.onSuccess?e.onSuccess(e):"function"==typeof e.onError&&e.onError(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.onTimeoutInternal=function(){null==e||null==e.xmlHttpRequest||e.onCompleteInternalHandled||(e.aborted=!0,e.xmlHttpRequest.abort(),AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),"function"==typeof e.onTimeout&&e.onTimeout(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.process=function(){if(null!=e.xmlHttpRequest){e.generateUniqueUrl&&"GET"==e.method&&(e.parameters.AjaxRequestUniqueId=(new Date).getTime()+""+e.requestIndex);var t=null;for(var r in e.parameters)e.queryString.length>0&&(e.queryString+="&"),e.queryString+=encodeURIComponent(r)+"="+encodeURIComponent(e.parameters[r]);"GET"==e.method&&e.queryString.length>0&&(e.url+=(e.url.indexOf("?")>-1?"&":"?")+e.queryString),e.xmlHttpRequest.open(e.method,e.url,e.async,e.username,e.password),"POST"==e.method&&("undefined"!=typeof e.xmlHttpRequest.setRequestHeader&&e.xmlHttpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=e.queryString),e.timeout>0&&setTimeout(e.onTimeoutInternal,e.timeout),e.xmlHttpRequest.send(t)}},e.handleArguments=function(t){for(var r in t)"undefined"==typeof e[r]?e.parameters[r]=t[r]:e[r]=t[r]},e.getAllResponseHeaders=function(){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getAllResponseHeaders();alert("Cannot getAllResponseHeaders because a response has not yet been received")}},e.getResponseHeader=function(t){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getResponseHeader(t);alert("Cannot getResponseHeader because a response has not yet been received")}},e)}var timer_heartbeat="",timer_session_errors="",setHexObj,setHexDiv,setHexImg;AjaxRequest.getXmlHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null},AjaxRequest.isActive=function(){return AjaxRequest.numActiveAjaxRequests>0},AjaxRequest.get=function(e){AjaxRequest.doRequest("GET",e)},AjaxRequest.post=function(e){AjaxRequest.doRequest("POST",e)},AjaxRequest.doRequest=function(e,t){if("undefined"!=typeof t&&null!=t){var r=new AjaxRequest;r.method=e,r.handleArguments(t),r.process()}},AjaxRequest.submit=function(e,t){var r=new AjaxRequest;if(null==r)return!1;var a=AjaxRequest.serializeForm(e);return r.method=e.method.toUpperCase(),r.url=e.action,r.handleArguments(t),r.queryString=a,r.process(),!0},AjaxRequest.serializeForm=function(e){var t=e.elements;if(void 0==t)return alert("Ajax Request serializeForm failed"),!1;var r=t.length,a="";this.addField=function(e,t){a.length>0&&(a+="&"),a+=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(var i=0;r>i;i++){var n=t[i];if(!n.disabled)switch(n.type){case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":case"text":case"password":case"submit":case"hidden":case"textarea":this.addField(n.name,n.value);break;case"select-one":n.selectedIndex>=0&&this.addField(n.name,n.options[n.selectedIndex].value);break;case"select-multiple":for(var o=0;o<n.options.length;o++)n.options[o].selected&&this.addField(n.name,n.options[o].value);break;case"checkbox":case"radio":n.checked&&this.addField(n.name,n.value)}}return a},AjaxRequest.numActiveAjaxRequests=0,AjaxRequest.numActiveAjaxGroupRequests=new Object,AjaxRequest.ActiveAjaxGroupRequests=new Object,AjaxRequest.numAjaxRequests=0,function(){function e(){p.call(document.querySelectorAll("input[type=range]"),r),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes&&p.call(e.addedNodes,function(e){t(e),e.childElementCount&&p.call(e.querySelectorAll("input"),t)})})}).observe(document,{childList:!0,subtree:!0})}function t(e){"input"==e.localName&&"range"!=e.type&&"range"==e.getAttribute("type")&&r(e)}function r(e){function t(e){if(_=!0,setTimeout(function(){_=!1},0),!e.button&&R){var t=parseFloat(getComputedStyle(this,0).width),a=(t-l.width)/R;if(a){var n=e.clientX-this.getBoundingClientRect().left-l.width/2-(T-C)*a;Math.abs(n)>l.radius&&(A=!0,this.value-=-n/a),q=T,k=e.clientX,this.addEventListener("mousemove",r,!0),this.addEventListener("mouseup",i,!0)}}}function r(e){var t=parseFloat(getComputedStyle(this,0).width),r=(t-l.width)/R;r&&(q+=(e.clientX-k)/r,k=e.clientX,A=!0,this.value=q)}function i(){this.removeEventListener("mousemove",r,!0),this.removeEventListener("mouseup",i,!0)}function n(e){e.keyCode>36&&e.keyCode<41&&(p.call(this),A=!0,this.value=T+(38==e.keyCode||39==e.keyCode?E:-E))}function p(){_||(this.style.boxShadow=s?"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)":"0 0 0 2px #fb0")}function m(){this.style.boxShadow=""}function f(e){return!isNaN(e)&&+e==parseFloat(e)}function h(){C=f(e.min)?+e.min:0,j=f(e.max)?+e.max:100,C>j&&(j=C>100?C:100),E=f(e.step)&&e.step>0?+e.step:1,R=j-C,b(!0)}function g(){x||y||(T=e.getAttribute("value")),f(T)||(T=(C+j)/2),T=Math.round((T-C)/E)*E+C,C>T?T=C:T>j&&(T=C+~~(R/E)*E)}function b(t){if(g(),A&&T!=w&&e.dispatchEvent(v),A=!1,t||T!=w){w=T;var r=R?(T-C)/R*100:0,i="-moz-element(#__sliderthumb__) "+r+"% no-repeat, ";a(e,{background:i+d})}}var x,y,A,_,w,q,k,C,j,E,R,T=e.value;o||(o=document.body.appendChild(document.createElement("hr")),a(o,{"-moz-appearance":s?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),document.mozSetImageElement("__sliderthumb__",o));var F=function(){return""+T},O=function I(t){T=""+t,x=!0,b(),delete e.value,e.value=T,e.__defineGetter__("value",F),e.__defineSetter__("value",I)};e.__defineGetter__("value",F),e.__defineSetter__("value",O),e.__defineGetter__("type",function(){return"range"}),["min","max","step"].forEach(function(t){e.hasAttribute(t)&&(y=!0),e.__defineGetter__(t,function(){return this.hasAttribute(t)?this.getAttribute(t):""}),e.__defineSetter__(t,function(e){null===e?this.removeAttribute(t):this.setAttribute(t,e)})}),e.readOnly=!0,a(e,u),h(),new MutationObserver(function(t){t.forEach(function(t){"value"!=t.attributeName?(h(),y=!0):x||(T=e.getAttribute("value"),b())})}).observe(e,c),e.addEventListener("mousedown",t,!0),e.addEventListener("keydown",n,!0),e.addEventListener("focus",p,!0),e.addEventListener("blur",m,!0)}function a(e,t){for(var r in t)e.style.setProperty(r,t[r],"important")}var i=document.createElement("input");try{if(i.type="range","range"==i.type)return}catch(n){return}if(i.style.background="linear-gradient(red, red)",i.style.backgroundImage&&"MozAppearance"in i.style&&document.mozSetImageElement&&this.MutationObserver){var o,s="MacIntel"==navigator.platform,l={radius:s?9:6,width:s?22:12,height:s?16:20},d="linear-gradient(transparent "+(s?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",u={"min-width":l.width+"px","min-height":l.height+"px","max-height":l.height+"px",padding:"0 0 "+(s?"2px":"1px"),border:0,"border-radius":0,cursor:"default","text-indent":"-999999px"},c={attributes:!0,attributeFilter:["min","max","step","value"]},p=Array.prototype.forEach,v=document.createEvent("HTMLEvents");v.initEvent("change",!0,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e,!0):e()}}();