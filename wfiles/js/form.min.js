function autoFill(e,t,n){void 0==n&&(n=0);var r=new Array,a=GetElementsByAttribute("div","id",t);for(l=0;l<a.length;l++){var i=a[l].getAttribute("name");if("null"!=i){var o=getText(a[l]);r[i]=o}}for(var l=0;l<e.length;l++){var u=e[l].type,i=e[l].getAttribute("name"),d=i.replace(/\[/,"");d=d.replace(/\]/,"");{r[d]}if(n&&(e[l].style.backgroundColor="#FFFFFF",e[l].style.color="#000000",e[l].style.border="1px solid #7f9db9","textarea"==u?e[l].readOnly=!0:"text"==u?e[l].readOnly=!0:e[l].disabled=!0),void 0!=r[d])if("checkbox"==u){var c=r[d].split(":"),m=e[l].getAttribute("value");for(s=0;s<c.length;s++)m==c[s]&&(e[l].checked=!0)}else e[l].value=r[d]}}function ajaxAddEditForm(e,t,n,r){var a="_action=editform&-table="+e,i="Add New Record";return void 0!=t&&t>0&&(a+="&_id="+t,i="Edit Record"),void 0!=n&&(a+="&-fields="+n),void 0!=r&&(a+="&"+r),ajaxPopup("/php/index.php",a,{id:"centerpop"}),!1}function autoGrow(e,t){void 0==t&&(t=400),e.scrollHeight<t&&e.scrollHeight>e.clientHeight&&!window.opera&&(e.style.height=e.scrollHeight+"px")}function comboCompleteMatch(e,t){e=e.toLowerCase();for(var n=0;n<t.length;n++)if(aval=t[n].toLowerCase(),0==aval.indexOf(e))return n;return-1}function comboComplete(e,t,n){for(var r=getText(n),a=r.split("\n"),i=new Array,o=0;o<a.length;o++)if(void 0!=a[o]){var s=trim(a[o]);if(0!=s.length){var l=s.match(/tval=\"(.+?)\"/gi);if(void 0!=l)for(m in l){var u=l[m]+"";if(-1!=u.indexOf('tval="')){var d=u.replace('tval="',"");d=d.replace(/\"$/,""),i.push(d)}}}}var c=parseInt(t.keyCode);switch(c){case 38:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p>0&&(p-=1,void 0!=i[p]))return e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 40:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p<i.length&&(p+=1,void 0!=i[p]))return e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 37:case 39:case 33:case 34:case 36:case 35:case 13:case 9:case 27:case 16:case 17:case 18:case 20:case 8:case 46:return!0;default:textboxReplaceSelect(e,String.fromCharCode(isIE?t.keyCode:t.charCode));var v=e.value.length,p=comboCompleteMatch(e.value,i);return p>-1&&(e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length)),!1}}function fielddataChange(e){var t=getParentForm(e),n=t.name,r=e.name,a=e.value,i=t.required;switch(r){case"inputtype":switch(a){case"slider":setText(n+"_height_dname","Min"),setText(n+"_inputmax_dname","Max"),setText(n+"_required_dname","Step"),i.type="text",i.style.width="25px";break;default:setText(n+"_height_dname","Height"),setText(n+"_inputmax_dname","Inputmax"),setText(n+"_required_dname","Required"),i.type="checkbox",i.style.width=""}}}function filemanagerEdit(e,t,n){var r=getObject(e),a=r.getAttribute("filename"),i=getText(r),o="";if(o+='<form class="w_form" method="post" action="/'+t+'" onSubmit="return submitForm(this);">\n',o+='<table class="w_table w_nopad">\n',o+='<tr><th>Name</th><td><input type="text" name="file_name" value="'+a+'" style="width:300px;"></td></tr>\n',o+='<tr><th>Desc</th><td><textarea name="file_desc" style="width:300px;height:60;" onkeypress="autoGrow(this,200);">'+i+"</textarea></td></tr>\n",o+='<tr><td align="right" colspan="2"><input type="submit" value="Save Changes"></td></tr>\n',o+="</table>\n",n){o+='<div style="display:none" id="params">\n';for(var s in n)o+='<textarea name="'+s+'">'+n[s]+"</textarea>\n";o+="</div>\n"}return o+="</form><br />\n",popUpDiv(o,{title:"filemanager Edit",drag:1,center:"x",y:"-100",width:350}),!1}function formatPhone(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var n=t.substr(0,3),r=t.substr(3,3),a=t.substr(6,4);return t=n,r.length>0&&(t+="-"+r),a.length>0&&(t+="-"+a),t}function formatCalendar(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var n=t.substr(0,2),r=t.substr(2,2),a=t.substr(4,4);return t=n,r.length>0&&(t+="-"+r),a.length>0&&(t+="-"+a),t}function getElementForm(e){for(;e&&void 0!=e.nodeName&&"FORM"!=e.nodeName;)e=e.parentNode;return e}function dynamicSelect(e,t,n){if(void 0==e)return!1;void 0==t&&(t="other");var r=e.name;if(e.getAttribute("data-displayname")?r=e.getAttribute("data-displayname"):e.getAttribute("displayname")&&(r=e.getAttribute("displayname")),void 0==n&&(n="Enter "+t+' "'+r+'" below and click OK.'),e.value.toLowerCase()==t.toLowerCase()){var a=prompt(n);if(void 0!=a&&a.length>0){for(var i=0;i<e.options.length;i++)if(e.options[i].value==a)return e.value=e.options[i].value,!1;e.options[e.length]=new Option(a.toLowerCase(),a),e.value=a}}return!1}function scheduleHeartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var n=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_heartbeat=setTimeout("heartbeat('"+e+"',"+t+")",n)}function heartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/index.php",e,"_heartbeat=1&t="+t+"&div="+e)}function scheduleSessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var n=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_session_errors=setTimeout("sessionErrors('"+e+"',"+t+")",n)}function sessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/admin.php",e,"_menu=session_errors&t="+t+"&div="+e)}function redrawField(e,t){for(var n=getElementForm(t),r=n.getAttribute("name"),a=r+"_"+e+"_content",i=n._table.value,o=i+":"+e,s={_redraw:o,opt_0:t.name,val_0:t.value},l=n[e],u=0;u<l.attributes.length;u++)l.attributes.item(u).specified&&(s["att_"+l.attributes.item(u).nodeName]=l.attributes.item(u).nodeValue);return ajaxGet("/php/index.php",a,s),!1}function changeModelType(e){var t=getElementForm(e),n="";if(!(void 0!=t._id&&(n=getText(t.functions),n.length>0))){var r=t.name.value;n="",0==e.value||(n+="<?php\r\n",n+="/* Available functions: Each function should return the array that was passed in.\r\n",n+="\r\n",n+="	//addDBRecord triggers\r\n",n+="	function "+r+"AddBefore($params=array()){}\r\n",n+="	function "+r+"AddSuccess($params=array()){}\r\n",n+="	function "+r+"AddFailure($params=array()){}\r\n",n+="\r\n",n+="	//editDBRecord triggers\r\n",n+="	function "+r+"EditBefore($params=array()){}\r\n",n+="	function "+r+"EditSuccess($params=array()){}\r\n",n+="	function "+r+"EditFailure($params=array()){}\r\n",n+="\r\n",n+="	//delDBRecord triggers\r\n",n+="	function "+r+"DeleteBefore($params=array()){}\r\n",n+="	function "+r+"DeleteSuccess($params=array()){}\r\n",n+="	function "+r+"DeleteFailure($params=array()){}\r\n",n+="\r\n",n+="	//getDBRecord, listDBRecords, and getDBRecords trigger\r\n",n+="	function "+r+"GetRecord($rec=array()){}\r\n",n+="*/\r\n\r\n",n+="?>\r\n"),setText(t.functions,n)}}function remindMeForm(){var e="remindMePopup",t="";t+='	<div class="w_centerpop_content" id="remindmediv" style="width:300px;">\n',t+='		<form method="POST" name="remindMe" class="w_form" action="/php/index.php" onSubmit="ajaxSubmitForm(this,\'remindmediv\');return false;">\n',t+='			<input type="hidden" name="_remind" value="1">\n',t+='			<input type="hidden" name="tname" value="remind me">\n',t+='			<div class="w_gray"> Enter the email address tied to your account profile to have your username and password emailed to you.</div>\n',t+='			<div><img src="/wfiles/iconsets/32/email.png" width="32" height="32" alt="Email Address" class="w_middle"> <b>Email Address</b></div>\n',t+=' 			<div><input type="text" maxlength="255" name="email" pattern=".+@.+..{2,6}" data-pattern-msg="Invalid Email Address" data-required="1" data-requiredmsg="Enter the email address you registered with." value="" onFocus="this.select();" style="width:250px;font-size:9pt;font-family:arial;"></div>\n',t+='			<div align="right" style="margin-right:2px;margin-top:5px;"><input type="submit" class="w_formsubmit" value="Remind Me"></div>\n',t+="		</form>",t+="	</div>\n";var n='<img src="/wfiles/iconsets/16/info.png" width="16" height="16" alt="reminder" class="w_middle"> Remind Me Form';return popUpDiv("",{id:e,width:300,height:50,drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"}),setCenterPopText(e,t,{title:n}),document.remindMe.email.focus(),!1}function setProcessing(e,t){void 0==t&&(t="Processing ...");var n='<div class="w_lblue"><img src="/wfiles/loading_blu.gif" alt="loading" /> '+t+"</div>";setText(e,n)}function submitRemindMeForm(e){return setProcessing("reminderMessage"),ajaxSubmitForm(e,"remindMeForm_Body"),!1}function setDateTimeBox(e,t,n,r,a){if(void 0==t||0==t.length){var i=new Date;t=i.getMonth()+"-"+i.getDate()+"-"+i.getFullYear()}var o=t.split("-",3);n=parseInt(1*n),"PM"==a&&(n+=12),10>n&&(n="0"+n),1==r.length&&(r="0"+r);var s=o[2]+"-"+o[0]+"-"+o[1]+" "+n+":"+r+":00";return setText(e,s),1}function setSliderText(e){var t=e.value,n=getAllAttributes(e);if(void 0!=n["data-label"]){if(void 0!=n["data-labelmap"]){n["data-labelmap"]=str_replace("'",'"',n["data-labelmap"]);var r=JSON.parse(n["data-labelmap"]);if(void 0!=r[t])return void setText(n["data-label"],r[t])}setText(n["data-label"],t)}}function setTimeBox(e,t,n,r){t=parseInt(1*t),"PM"==r&&(t+=12),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n);var a=t+":"+n+":00";return setText(e,a),1}function showColors(e,t,n){window.status=e+","+t+","+n;var r=document.getElementById(t);r.innerHTML=e,r=document.getElementById(n),r.style.backgroundColor=e}function showColor(e){showColors(e,"show_hex","show_color")}function selectColor(e,t,n){setHexObj=t,setHexDiv=e,setHexImg=n,ajaxGet("/wfiles/colortable.html",e)}function setHex(e){setText(setHexObj,e),setText(setHexDiv,""),setStyle(setHexImg,"backgroundColor",e)}function showToolbar(e,t){for(var n=GetElementsByAttribute("div","id","toolbar"),r=0;r<n.length;r++){var a=n[r].getAttribute("field"),i=n[r].getAttribute("category");n[r].style.display=a==e&&i==t?"block":"none"}}function setRadioLabel(e){for(var t=GetElementsByAttribute("input","name","^"+e+"$"),n=0;n<t.length;n++)for(var r=t[n].id,a=GetElementsByAttribute("label","for","^"+r+"$"),i=0;i<a.length;i++)t[n].checked?setClassName(a[i],"w_checklist_checked"):setClassName(a[i],"w_checklist")}function setLabelChecked(e,t,n,r,a){var i=GetElementsByAttribute("label",e,"^"+t+"$");if(void 0!=r&&void 0!=a)for(var o=0;o<i.length;o++)n?setClassName(i[o],a):setClassName(i[o],r);else for(var o=0;o<i.length;o++)n?setClassName(i[o],"w_checklist_checked"):setClassName(i[o],"w_checklist");return!0}function checkAllElements(e,t,n){for(var r=GetElementsByAttribute("input",e,"^"+t+"$"),a=0,i=0;i<r.length;i++)"checkbox"==r[i].type&&(r[i].checked=n,a++);return n?a:0}function setTimeField(e,t){var n=new Date,r=n.getMonth()+1;1==r.length&&(r="0"+r);var a=n.getDate();1==a.length&&(a="0"+a);var i=r+"-"+a+"-"+n.getFullYear(),o=n.getHours(),s=n.getMinutes();10>s&&(s="0"+s);var l="am";0==o?(o=12,l="am"):o>12&&(o-=12,l="pm"),10>o&&(o="0"+o);var u=getObject(e+"_"+t+"_date");void 0!=u&&(u.value=i);var u=getObject(e+"_"+t+"_hour");void 0!=u&&(u.value=o);var u=getObject(e+"_"+t+"_minute");void 0!=u&&(u.value=s);var u=getObject(e+"_"+t+"_ampm");void 0!=u&&(u.value=l)}function insertAtCursor(e,t){var n=getObject(e);if(document.selection)n.focus(),sel=document.selection.createRange(),sel.text=t;else if(n.selectionStart||"0"==n.selectionStart){var r=n.selectionStart,a=n.selectionEnd;n.value=n.value.substring(0,r)+t+n.value.substring(a,n.value.length)}else n.value+=t}function isCreditCardNumber(e){var t="0123456789",n=e.length,r=parseInt(e),a=e.toString();a=a.replace(/^\s+|\s+$/g,"");for(var i,o,s=0,l=0;n>l;l++)if(i=""+a.substring(l,l+1),"-1"==t.indexOf(i))return!1;if(n>=15&&20>=n){for(var u=n;u>0;u--){switch(o=parseInt(r)%10,o=parseInt(o),s+=o,u--,r/=10,o=parseInt(r)%10,o=2*o){case 10:o=1;break;case 12:o=3;break;case 14:o=5;break;case 16:o=7;break;case 18:o=9;break;default:o=o}r/=10,s+=o}var d=s%10;return 0==d?!0:!1}return!1}function textboxSelect(e,t,n){switch(arguments.length){case 1:e.select();break;case 2:n=e.value.length;case 3:if(isIE){var r=e.createTextRange();r.moveStart("character",t),r.moveEnd("character",-e.value.length+n),r.select()}else isMoz&&e.setSelectionRange(t,n)}e.focus()}function textboxReplaceSelect(e,t){if(isIE){var n=document.selection.createRange();n.text=t,n.collapse(!0),n.select()}else if(isMoz){var r=e.selectionStart;e.value=e.value.substring(0,r)+t+e.value.substring(e.selectionEnd,e.value.length),e.setSelectionRange(r+t.length,r+t.length)}e.focus()}function submitForm(e,t,n,r){if(void 0==e)return alert("No form object passed to submitForm"),!1;if(void 0!=e._action&&"Delete"==e._action.value)return!0;t=1;var a=new Array;if(a.alpha="^[a-zA-Z_-\\?\\ \\']+$",a.alphanumeric="^[0-9a-zA-Z_-\\.\\?\\ \\']+$",a.calendar="^[0-9]{1,2}-[0-9]{1,2}-[0-9]{1,4}$",a.email=".+@.+\\..{2,6}",a.integer="^[0-9]+$",a.hexcolor="^#[abcdef0-9]{6,6}$",a.decimal="^[0-9]*\\.[0-9]+$",a.number="(^[0-9]+$)|(^\\.[0-9]+$)|(^[0-9]+\\.[0-9]+$)",a.phone="^([0-9]{3,3}[\\-\\.][0-9]{3,3}[\\-\\.][0-9]{4,4}|\\([0-9]{3,3}\\)\\ [0-9]{3,3}[\\-][0-9]{4,4})$",a.time="^[0-9]{1,2}\\:[0-9]{2}$",a.ssn="^[0-9]{3,3}-[0-9]{2,2}-[0-9]{4,4}$",a.zipcode="^[0-9]{5,5}(\\-[0-9]{4,4})*$",0==e.length)return!1;1==n&&alert("Form length: "+e.length);for(var i=new Array,o=0;o<e.length;o++){if(1==n&&alert("Checking "+e[o].name+" of type "+e[o].type),in_array(e[o].name,i)||"_formfields"==e[o].name||(i[i.length]=e[o].name),"password"==e[o].name&&void 0!=e.password_confirm){if(0==e[o].value.length||0==e.password_confirm.value.length)return submitFormAlert("Password is required",t,5),e[o].focus(),!1;if(e[o].value!=e.password_confirm.value)return submitFormAlert("Passwords do not match.  Please retype password.",t,5),e[o].focus(),!1}if("email"==e[o].name&&void 0!=e.email_confirm){if(0==e[o].value.length||0==e.email_confirm.value.length)return submitFormAlert("Email is required",t,3),e[o].focus(),!1;if(e[o].value!=e.email_confirm.value)return submitFormAlert("Emails do not match.",t,3),e[o].focus(),!1}var l=e[o].name;e[o].getAttribute("data-displayname")?l=e[o].getAttribute("data-displayname"):e[o].getAttribute("displayname")&&(l=e[o].getAttribute("displayname"));var u=0;if(void 0!=e[o].getAttribute("_required")?u=e[o].getAttribute("_required"):void 0!=e[o].getAttribute("data-required")?u=e[o].getAttribute("data-required"):void 0!=e[o].getAttribute("required")&&(u=e[o].getAttribute("required")),1==u){var d=e[o].getAttribute("data-requiredmsg");if(void 0==d&&(d=e[o].getAttribute("requiredmsg")),"checkbox"==e[o].type){var c="name";e[o].getAttribute("checkname")&&(c=e[o].getAttribute("checkname"));for(var m=e[o].getAttribute(c),p=GetElementsByAttribute("input",c,m),v=0,g=0;g<p.length;g++)"checkbox"==p[g].type&&p[g].checked?v++:"text"==p[g].type&&""!=p[g].value&&v++;if(0==v){var f=l+" is required";return void 0!=d&&(f=d),submitFormAlert(f,t,5),e[o].focus(),!1}}else if("radio"==e[o].type){for(var p=GetElementsByAttribute("input","name",e[o].name),v=0,g=0;g<p.length;g++)"radio"==p[g].type&&p[g].checked?v++:"text"==p[g].type&&""!=p[g].value&&v++;if(0==v){var f=l+" is required";return void 0!=d&&(f=d),submitFormAlert(f,t,5),e[o].focus(),!1}}else if("textarea"==e[o].type){var h=trim(getText(e[o]));if(0==h.length){var f=l+" is required";return void 0!=d&&(f=d),submitFormAlert(f,t,5),e[o].focus(),!1}}else if(""==e[o].value){var f=l+" is required";return void 0!=d&&(f=d),submitFormAlert(f,t,5),e[o].focus(),!1}}var b=e[o].getAttribute("pattern");if(void 0==b&&(b=e[o].getAttribute("mask")),void 0!=b&&""!=b&&""!=e[o].value){var x=e[o].getAttribute("data-pattern-msg");if(void 0==x&&(x=e[o].getAttribute("maskmsg")),"ccnumber"==b){if(0==isCreditCardNumber(e[o].value)){var f=l+" must be of valid credit card number ";return void 0!=x&&(f=x),submitFormAlert(f,t,5),e[o].focus(),!1}}else if("intlphone"==b){if(0==checkInternationalPhone(e[o].value)){var f=l+" must be a valid phone number";return void 0!=x&&(f=x),submitFormAlert(f,t,5),e[o].focus(),!1}}else if("searchandreplace"!=b){"phone"==b?e[o].value=formatPhone(e[o].value):"calendar"==b&&(e[o].value=formatCalendar(e[o].value));var A=b;void 0!=a[b]&&(A=a[b]+"");var y=new RegExp(A,"i");if(0==y.test(e[o].value)){var f=l+" must be of type "+b;return void 0!=x&&(f=x),submitFormAlert(f,t,5),e[o].focus(),!1}}}if("textarea"==e[o].type&&e[o].getAttribute("maxlength")){var w=e[o].value.length,_=Math.abs(e[o].getAttribute("maxlength"));if(w>_){var f=l+" must be less than "+_+" characters\nYou entered "+w+" characters.";return e[o].getAttribute("maxlengthmsg")&&(f=e[o].getAttribute("maxlengthmsg")),submitFormAlert(f,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minlength")){var w=e[o].value.length,q=Math.abs(e[o].getAttribute("minlength"));if(q>w){var f=l+" must be at least "+q+" characters.\nYou entered "+w+" characters.";return e[o].getAttribute("minlengthmsg")&&(f=e[o].getAttribute("minlengthmsg")),submitFormAlert(f,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minwords")){var R=getWordCount(e[o]),j=Math.abs(e[o].getAttribute("minwords"));if(j>w){var f=l+" must be at least "+j+" words in length.\nYou entered "+R+" words.";return e[o].getAttribute("minwordsmsg")&&(f=e[o].getAttribute("minwordsmsg")),submitFormAlert(f,t,5),e[o].focus(),!1}}if(e[o].getAttribute("maxwords")){var R=getWordCount(e[o]),E=Math.abs(e[o].getAttribute("maxwords"));if(E>w){var f=l+" must be less than "+E+" words in length.\nYou entered "+R+" words.";return e[o].getAttribute("maxwordsmsg")&&(f=e[o].getAttribute("maxwordsmsg")),submitFormAlert(f,t,5),e[o].focus(),!1}}if("file"==e[o].type&&e[o].getAttribute("accept")&&e[o].value.length){var k=e[o].getAttribute("accept");1==n&&alert(" -- File type allowed exts:"+k);var C=k.split(","),T=0;for(s=0;s<C.length;s++)-1!=e[o].value.lastIndexOf(C[s])&&T++;if(0==T){var f=l+" must be of valid file type:  "+k;return e[o].getAttribute("acceptmsg")&&(f=e[o].getAttribute("acceptmsg")),submitFormAlert(f,t,5),e[o].focus(),!1}}}for(var o=0;o<e.length;o++){var O=e[o].getAttribute("data-behavior"),I=e[o].getAttribute("id");void 0==O||"wysiwyg"!=O&&"richtext"!=O&&"tinymce"!=O&&"nicedit"!=O||void 0==nicEditors[I]||(1==r&&nicEditors.findEditor(I).saveContent(),nicEditors[I].removeInstance(I))}for(var H=implode(",",i),F=0,o=0;o<e.length;o++)if("_formfields"==e[o].name){e[o].value=H,F=1;break}if(0==F){var N=document.createElement("input");N.type="hidden",N.name="_formfields",N.value=H,e.appendChild(N)}return!0}function imposeMaxlength(e,t){return e.value.length<=t}function submitSurveyForm(e,t){if(void 0==e)return alert("submitSurveyForm Error: No Form"),!1;if(!submitForm(e))return!1;for(var n=new Array,r=0;r<e.length;r++){var a=e[r].name;n[a]=1}for(var r=0;r<e.length;r++)if(void 0!=e[r].name){var a=e[r].name;if(0!=a.length&&void 0!=t)for(var i in t)if(1==t[i]&&e[r].getAttribute(i)){var o=e[r].getAttribute(i);if(o.length){var s=i+"_"+a;if(void 0==n[s]){n[s]=1;var l=document.createElement("textarea");l.setAttribute("NAME",s),l.style.display="none",l.value=o,e.appendChild(l)}}}}return!0}function checkInternationalPhone(e){var t=".()- ",n=t+"+",r=10,a=3;if(e=trim(e),e.indexOf("+")>1)return!1;if(-1!=e.indexOf("-")&&(a+=1),-1!=e.indexOf("(")&&e.indexOf("(")>a)return!1;var i=e.indexOf("(");return-1!=e.indexOf("(")&&")"!=e.charAt(i+2)?!1:-1==e.indexOf("(")&&-1!=e.indexOf(")")?!1:(s=stripCharsInBag(e,n),isInteger(s)&&s.length>=r)}function isInteger(e){var t;for(t=0;t<e.length;t++){var n=e.charAt(t);if("0">n||n>"9")return!1}return!0}function trim(e){if(null!=e&&void 0!=e&&""!=e){var t=e.replace(/^[\ \s\0\r\n\t]*/g,"");return t=t.replace(/[\ \s\0\r\n\t]*$/g,"")}return""}function stripCharsInBag(e,t){var n,r="";for(n=0;n<e.length;n++){var a=e.charAt(n);-1==t.indexOf(a)&&(r+=a)}return r}function submitFormAlert(e,t){return void 0==t&&(t=0),t?(html="",html+='<div class="w_centerpop_title" style="background:#d50000;"><img src="/wfiles/iconsets/16/alert.png" alt="errors" class="w_middle"> Error Processing Request</div>\n',html+='<div class="w_centerpop_content">\n',html+='	<div class="w_big w_dblue"> - '+e+"</div>\n",html+='	<div class="w_smallest w_right w_lblue" style="margin-right:20px;" id="centerpop2_countdown">4</div>\n',html+="</div>\n",centerpopDiv(html,3,2),countDown("centerpop2_countdown")):alert(e),!1}function showFormData(e,t){if(void 0==e)return alert("No form object passed to formData"),!1;if(0==e.length)return!1;for(var n="",r=0;r<e.length;r++){var a=e[r].name,i=typeof e[r];n+="Name: "+a+"<br>\r\n",n+="Type: "+i+"<br>\r\n"}t?setText(t,n):alert(n)}function checkPerl(e,t){if(void 0==document._perlcheck)return alert("document._perlcheck does not exist."),!1;var n=e+"_perlcheck";return void 0==t?(alert("Nothing to check."),!1):0==t.length?(alert("Nothing to check."),!1):(document.getElementById(n).innerHTML='<img src="/wfiles/busy.gif" title="checking Perl syntax" width="12" height="12" alt="checking Perl syntax" />',document._perlcheck.perlcheck.value=t,ajaxSubmitForm(document._perlcheck,n,5),!1)}function cloneObj(e){var t=getObject(e),n=t.getAttribute("inc");void 0==n?n=1:(n=parseFloat(n),n++),t.setAttribute("inc",n);var r=t.cloneNode(!0);void 0!=r.id&&r.setAttribute("id",r.id+"_"+n),void 0!=r.style.display&&"none"==r.style.display&&(r.style.display="block");for(var a=r.getElementsByTagName("input"),i=r.getElementsByTagName("img"),o=0;o<a.length;o++){var s=a[o].getAttribute("name"),l=a[o].getAttribute("id");if((void 0==l||0==l.length)&&(l=s),void 0!=s){var u=a[o].getAttribute("type");"_clone"==s&&"button"==u.toLowerCase()&&(a[o].style.display="none"),"button"!=u.toLowerCase()&&"hidden"!=u.toLowerCase()&&(a[o].value="");var d=s+"_"+n,c=l+"_"+n;if(d.indexOf("[]")>1&&(d=s),-1!=s.indexOf("_path")&&(d=s.replace(/path/,""),d+=n+"_path"),-1!=s.indexOf("_autonumber")&&(d=s.replace(/autonumber/,""),d+=n+"_autonumber"),a[o].setAttribute("name",d),void 0!=l&&-1!=l.indexOf("_datecontrol")&&(c+="_datecontrol"),a[o].setAttribute("id",c),void 0!=l)for(var m=0;m<i.length;m++)if(void 0!=i[m].getAttribute("onclick")){var p=i[m].getAttribute("onclick");"function"==typeof p.replace&&(p=p.replace(l,c)),i[m].setAttribute("onclick",p)}}}for(var v=r.getElementsByTagName("select"),o=0;o<v.length;o++){var s=v[o].getAttribute("name");if(void 0!=s){var d=s+"_"+n;v[o].setAttribute("name",d),v[o].setAttribute("id",d)}}for(var g=r.getElementsByTagName("textarea"),o=0;o<g.length;o++){var s=g[o].getAttribute("name");if(void 0!=s){g[o].value="";var d=s+"_"+n;g[o].setAttribute("name",d),g[o].setAttribute("id",d)}}return t.parentNode.appendChild(r),n}function ajaxSubmitForm(e,t,n,r,a){return ajaxPost(e,t,n,r,a)}function ajaxPopup(e,t,n){var r="ajaxPopupDiv",a={id:r,drag:1};if(n){for(var i in a)void 0!=n[i]&&(a[i]=n[i]);for(var i in n)void 0==a[i]&&(a[i]=n[i])}popUpDiv('<div class="w_bold w_lblue w_big"><img src="/wfiles/loading_blu.gif" alt="loading" /> loading...please wait.</div>',a),ajaxGet(e,"centerpop",t)}function ajaxPost(theform,sid,tmeout,callback,returnreq){if(void 0==theform)return alert("No form object passed to ajaxPost"),!1;var ok=submitForm(theform,1,0,1);if(!ok)return!1;void 0==callback&&(callback=""),void 0==returnreq&&(returnreq=!1),(void 0==tmeout||9e4>tmeout)&&(tmeout=9e4);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxPost\n"+sid+" is not defined as a valid object id"),!1;var AJUid=(new Date).getTime()+"",getReq=AjaxRequest.submit(theform,{groupName:sid,timeout:tmeout,callback:callback,AjaxRequestUniqueId:AJUid,onGroupBegin:function(){var e=this.groupName,t=e.toLowerCase(),n=this.callback;if(n=n.toLowerCase(),-1!=n.indexOf("centerpop")||-1!=t.indexOf("centerpop")){var r='<div class="w_centerpop_content"><img src="/wfiles/loading_blu.gif" class="w_middle" alt="processing" /> Processing. Please wait...</div>';popUpDiv("",{id:e,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"});var a="Processing Request";setCenterPopText(e,r,{title:a,drag:!1,close_bot:!1})}else setProcessing(e)},onGroupEnd:function(){},onTimeout:function(){var e=this.groupName,t=this.callback;t=t.toLowerCase();var n='<b style="color:red">ajaxPost Timed Out Error</b>';-1!=t.indexOf("centerpop")||-1!=e.indexOf("centerpop")?setCenterPopText(e,n):setText(e,n)},onError:function(e){var t=this.groupName,n=this.callback;n=n.toLowerCase();var r='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=n.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(t,r):setText(t,r)},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(""!=cb)if(-1!=cb.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=cb.indexOf("centerpop"))setCenterPopText(dname,val);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=lname.indexOf("centerpop"))setCenterPopText(dname,val);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val)}isFunction("f_tcalInit")&&f_tcalInit(),initBehaviors(dname)}});return returnreq?getReq:!1}function setCenterPopText(e,t,n){void 0==n&&(n={}),void 0==n.title&&(n.title=""),void 0==n.drag&&(n.drag=!0),void 0==n.close_top&&(n.close_top=!0),void 0==n.close_bot&&(n.close_bot=!0),void 0==n.center&&(n.center=!0);var r="";if(r+='<div class="w_centerpop">\n',n.title.length&&(r+='	<div class="w_centerpop_title">'+n.title+"</div>\n"),n.close_top&&(r+='	<div class="w_centerpop_close_top" title="Click to close" onclick="removeDiv(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" alt="close" /></div>\n'),n.drag&&(r+='	<div class="w_centerpop_drag" id="'+e+'_move" title="Click to drag"><img id="'+e+'_drag" src="/wfiles/icons/Xmove24.png" width="24" height="24" alt="move" /></div>\n'),r+="		"+t+"\n",r+='	<img src="/wfiles/clear.gif" width="1" height="1" style="position:absolute;top:0px;right:5px;" onload="centerObject(\''+e+'\');" alt="" />\n',n.close_bot&&(r+='	<div class="w_centerpop_close_bot" title="Click to close" onclick="removeDiv(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" alt="close" /></div>\n'),r+="</div>\n",setText(e,r),n.center&&centerObject(e),n.drag){var a=getObject(e),i=getObject(e+"_move");Drag.init(i,a),i.style.position="absolute",a.style.position="absolute"}}function callWaSQL(e,t,n){var r="/cgi-bin/wasql.pl";ajaxGet(r,t,"&_view="+e+"&"+n)}function ajaxAbort(e){return"undefined"!=typeof AjaxRequest.ActiveAjaxGroupRequests[e]?(AjaxRequest.ActiveAjaxGroupRequests[e].xmlHttpRequest.abort(),delete AjaxRequest.ActiveAjaxGroupRequests[e],!0):!1}function ajaxGet(url,sid,xparams,callback,tmeout,nosetprocess,returnreq,newtitle,newurl){var params="",cp_title="";if("object"==typeof xparams){void 0!=xparams.callback&&(callback=xparams.callback),void 0!=xparams.timeout&&(tmeout=xparams.timeout),void 0!=xparams.nosetprocess&&(nosetprocess=xparams.nosetprocess),void 0!=xparams.cp_title&&(cp_title=xparams.cp_title);for(var key in xparams)0!=key.indexOf("-")&&"callback"!=key&&"timeout"!=key&&"nosetprocess"!=key&&"cp_title"!=key&&(params=params+key+"="+xparams[key]+"&")}else params=xparams;void 0==newtitle&&(newtitle=void 0!=xparams["-newtitle"]?xparams["-newtitle"]:""),void 0==newurl&&(newurl=void 0!=xparams["-newurl"]?xparams["-newurl"]:""),void 0==callback&&(callback=""),void 0==nosetprocess&&(nosetprocess=!0),void 0==returnreq&&(returnreq=!1);var guid=getCookie("GUID");void 0==tmeout&&(tmeout=18e4),void 0==nosetprocess&&(nosetprocess=0),9e4>tmeout&&(tmeout=9e4);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxGet\n"+sid+" is not defined as a valid object id"),!1;var getReq=AjaxRequest.get({url:url+"?"+params,callback:callback,timeout:tmeout,var2:cp_title,var3:newtitle,var4:newurl,groupName:sid,var1:nosetprocess,onGroupBegin:function(){var e=this.groupName,t=e.toLowerCase(),n=this.callback.toLowerCase();if(-1!=n.indexOf("centerpop")||-1!=t.indexOf("centerpop")){var r='<div class="w_centerpop_content"><img src="/wfiles/loading_blu.gif" class="w_middle" alt="processing" /> Processing. Please wait...</div>';popUpDiv("",{id:e,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"});var a="Processing Request";setCenterPopText(e,r,{title:a,drag:!1,close_bot:!1})}else 0==this.var1&&setProcessing(e)},onTimeout:function(){var e=this.groupName,t=e.toLowerCase(),n=this.callback.toLowerCase(),r='<b style="color:red">ajaxGet Timed Out Error</b>';-1!=n.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(e,r):setText(e,r)},onError:function(e){var t=this.groupName,n=t.toLowerCase(),r=this.callback.toLowerCase(),a='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=r.indexOf("centerpop")||-1!=n.indexOf("centerpop")?setCenterPopText(t,a):setText(t,a)},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(this.var3.length>0&&this.var4.length>0&&history.pushState(req.responseText,this.var3,this.var4),""!=cb)if(-1!=cb.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=cb.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=lname.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val),void 0!=document.getElementById(dname).getAttribute("onshow")&&"center"==document.getElementById(dname).getAttribute("onshow")&&(document.getElementById(dname).style.position="absolute",centerObject(dname))}initBehaviors(dname)}});return returnreq?getReq:!1}function newXmlHttpRequest(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null}function wpassInput(e){if(!isNum(e))return!0;var t=getObject("wpass_search");if(void 0!=t)return t.value="",ajaxGet("/php/index.php","wpass_info",{_wpass:e}),!1}function AjaxRequest(){var e=new Object;return e.timeout=null,e.generateUniqueUrl=!0,e.url=window.location.href,e.method="GET",e.async=!0,e.username=null,e.password=null,e.xAttribute=null,e.xValue=null,e.xName=null,e.xAction=null,e.xId=null,e.parameters=new Object,e.requestIndex=AjaxRequest.numAjaxRequests++,e.responseReceived=!1,e.groupName=null,e.callback=null,e.var1=null,e.var2=null,e.var3=null,e.var4=null,e.var5=null,e.queryString="",e.responseText=null,e.responseXML=null,e.status=null,e.statusText=null,e.aborted=!1,e.xmlHttpRequest=null,e.onTimeout=null,e.onLoading=null,e.onLoaded=null,e.onInteractive=null,e.onComplete=null,e.onSuccess=null,e.onError=null,e.onGroupBegin=null,e.onGroupEnd=null,e.xmlHttpRequest=AjaxRequest.getXmlHttpRequest(),null==e.xmlHttpRequest?null:(e.xmlHttpRequest.onreadystatechange=function(){null!=e&&null!=e.xmlHttpRequest&&(1==e.xmlHttpRequest.readyState&&e.onLoadingInternal(e),2==e.xmlHttpRequest.readyState&&e.onLoadedInternal(e),3==e.xmlHttpRequest.readyState&&e.onInteractiveInternal(e),4==e.xmlHttpRequest.readyState&&e.onCompleteInternal(e))
},e.onLoadingInternalHandled=!1,e.onLoadedInternalHandled=!1,e.onInteractiveInternalHandled=!1,e.onCompleteInternalHandled=!1,e.onLoadingInternal=function(){e.onLoadingInternalHandled||(AjaxRequest.numActiveAjaxRequests++,1==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestBegin&&AjaxRequestBegin(),null!=e.groupName&&("undefined"==typeof AjaxRequest.numActiveAjaxGroupRequests[e.groupName]?(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]=0,AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e):AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e,AjaxRequest.numActiveAjaxGroupRequests[e.groupName]++,1==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupBegin&&e.onGroupBegin(e.groupName)),"function"==typeof e.onLoading&&e.onLoading(e),e.onLoadingInternalHandled=!0)},e.onLoadedInternal=function(){e.onLoadedInternalHandled||("function"==typeof e.onLoaded&&e.onLoaded(e),e.onLoadedInternalHandled=!0)},e.onInteractiveInternal=function(){e.onInteractiveInternalHandled||("function"==typeof e.onInteractive&&e.onInteractive(e),e.onInteractiveInternalHandled=!0)},e.onCompleteInternal=function(){e.onCompleteInternalHandled||e.aborted||(e.onCompleteInternalHandled=!0,AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),e.responseReceived=!0,e.status=e.xmlHttpRequest.status,e.statusText=e.xmlHttpRequest.statusText,e.responseText=e.xmlHttpRequest.responseText,e.responseXML=e.xmlHttpRequest.responseXML,"function"==typeof e.onComplete&&e.onComplete(e),200==e.xmlHttpRequest.status&&"function"==typeof e.onSuccess?e.onSuccess(e):"function"==typeof e.onError&&e.onError(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.onTimeoutInternal=function(){null==e||null==e.xmlHttpRequest||e.onCompleteInternalHandled||(e.aborted=!0,e.xmlHttpRequest.abort(),AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),"function"==typeof e.onTimeout&&e.onTimeout(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.process=function(){if(null!=e.xmlHttpRequest){e.generateUniqueUrl&&"GET"==e.method&&(e.parameters.AjaxRequestUniqueId=(new Date).getTime()+""+e.requestIndex);var t=null;for(var n in e.parameters)e.queryString.length>0&&(e.queryString+="&"),e.queryString+=encodeURIComponent(n)+"="+encodeURIComponent(e.parameters[n]);"GET"==e.method&&e.queryString.length>0&&(e.url+=(e.url.indexOf("?")>-1?"&":"?")+e.queryString),e.xmlHttpRequest.open(e.method,e.url,e.async,e.username,e.password),"POST"==e.method&&("undefined"!=typeof e.xmlHttpRequest.setRequestHeader&&e.xmlHttpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=e.queryString),e.timeout>0&&setTimeout(e.onTimeoutInternal,e.timeout),e.xmlHttpRequest.send(t)}},e.handleArguments=function(t){for(var n in t)"undefined"==typeof e[n]?e.parameters[n]=t[n]:e[n]=t[n]},e.getAllResponseHeaders=function(){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getAllResponseHeaders();alert("Cannot getAllResponseHeaders because a response has not yet been received")}},e.getResponseHeader=function(t){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getResponseHeader(t);alert("Cannot getResponseHeader because a response has not yet been received")}},e)}var timer_heartbeat="",timer_session_errors="",setHexObj,setHexDiv,setHexImg;AjaxRequest.getXmlHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null},AjaxRequest.isActive=function(){return AjaxRequest.numActiveAjaxRequests>0},AjaxRequest.get=function(e){AjaxRequest.doRequest("GET",e)},AjaxRequest.post=function(e){AjaxRequest.doRequest("POST",e)},AjaxRequest.doRequest=function(e,t){if("undefined"!=typeof t&&null!=t){var n=new AjaxRequest;n.method=e,n.handleArguments(t),n.process()}},AjaxRequest.submit=function(e,t){var n=new AjaxRequest;if(null==n)return!1;var r=AjaxRequest.serializeForm(e);return n.method=e.method.toUpperCase(),n.url=e.action,n.handleArguments(t),n.queryString=r,n.process(),!0},AjaxRequest.serializeForm=function(e){var t=e.elements;if(void 0==t)return alert("Ajax Request serializeForm failed"),!1;var n=t.length,r="";this.addField=function(e,t){r.length>0&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(var a=0;n>a;a++){var i=t[a];if(!i.disabled)switch(i.type){case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":case"text":case"password":case"submit":case"hidden":case"textarea":this.addField(i.name,i.value);break;case"select-one":i.selectedIndex>=0&&this.addField(i.name,i.options[i.selectedIndex].value);break;case"select-multiple":for(var o=0;o<i.options.length;o++)i.options[o].selected&&this.addField(i.name,i.options[o].value);break;case"checkbox":case"radio":i.checked&&this.addField(i.name,i.value)}}return r},AjaxRequest.numActiveAjaxRequests=0,AjaxRequest.numActiveAjaxGroupRequests=new Object,AjaxRequest.ActiveAjaxGroupRequests=new Object,AjaxRequest.numAjaxRequests=0,function(){function e(){m.call(document.querySelectorAll("input[type=range]"),n),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes&&m.call(e.addedNodes,function(e){t(e),e.childElementCount&&m.call(e.querySelectorAll("input"),t)})})}).observe(document,{childList:!0,subtree:!0})}function t(e){"input"==e.localName&&"range"!=e.type&&"range"==e.getAttribute("type")&&n(e)}function n(e){function t(e){if(w=!0,setTimeout(function(){w=!1},0),!e.button&&C){var t=parseFloat(getComputedStyle(this,0).width),r=(t-l.width)/C;if(r){var i=e.clientX-this.getBoundingClientRect().left-l.width/2-(T-j)*r;Math.abs(i)>l.radius&&(y=!0,this.value-=-i/r),q=T,R=e.clientX,this.addEventListener("mousemove",n,!0),this.addEventListener("mouseup",a,!0)}}}function n(e){var t=parseFloat(getComputedStyle(this,0).width),n=(t-l.width)/C;n&&(q+=(e.clientX-R)/n,R=e.clientX,y=!0,this.value=q)}function a(){this.removeEventListener("mousemove",n,!0),this.removeEventListener("mouseup",a,!0)}function i(e){e.keyCode>36&&e.keyCode<41&&(m.call(this),y=!0,this.value=T+(38==e.keyCode||39==e.keyCode?k:-k))}function m(){w||(this.style.boxShadow=s?"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)":"0 0 0 2px #fb0")}function v(){this.style.boxShadow=""}function g(e){return!isNaN(e)&&+e==parseFloat(e)}function f(){j=g(e.min)?+e.min:0,E=g(e.max)?+e.max:100,j>E&&(E=j>100?j:100),k=g(e.step)&&e.step>0?+e.step:1,C=E-j,b(!0)}function h(){x||A||(T=e.getAttribute("value")),g(T)||(T=(j+E)/2),T=Math.round((T-j)/k)*k+j,j>T?T=j:T>E&&(T=j+~~(C/k)*k)}function b(t){if(h(),y&&T!=_&&e.dispatchEvent(p),y=!1,t||T!=_){_=T;var n=C?(T-j)/C*100:0,a="-moz-element(#__sliderthumb__) "+n+"% no-repeat, ";r(e,{background:a+u})}}var x,A,y,w,_,q,R,j,E,k,C,T=e.value;o||(o=document.body.appendChild(document.createElement("hr")),r(o,{"-moz-appearance":s?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),document.mozSetImageElement("__sliderthumb__",o));var O=function(){return""+T},I=function H(t){T=""+t,x=!0,b(),delete e.value,e.value=T,e.__defineGetter__("value",O),e.__defineSetter__("value",H)};e.__defineGetter__("value",O),e.__defineSetter__("value",I),e.__defineGetter__("type",function(){return"range"}),["min","max","step"].forEach(function(t){e.hasAttribute(t)&&(A=!0),e.__defineGetter__(t,function(){return this.hasAttribute(t)?this.getAttribute(t):""}),e.__defineSetter__(t,function(e){null===e?this.removeAttribute(t):this.setAttribute(t,e)})}),e.readOnly=!0,r(e,d),f(),new MutationObserver(function(t){t.forEach(function(t){"value"!=t.attributeName?(f(),A=!0):x||(T=e.getAttribute("value"),b())})}).observe(e,c),e.addEventListener("mousedown",t,!0),e.addEventListener("keydown",i,!0),e.addEventListener("focus",m,!0),e.addEventListener("blur",v,!0)}function r(e,t){for(var n in t)e.style.setProperty(n,t[n],"important")}var a=document.createElement("input");try{if(a.type="range","range"==a.type)return}catch(i){return}if(a.style.background="linear-gradient(red, red)",a.style.backgroundImage&&"MozAppearance"in a.style&&document.mozSetImageElement&&this.MutationObserver){var o,s="MacIntel"==navigator.platform,l={radius:s?9:6,width:s?22:12,height:s?16:20},u="linear-gradient(transparent "+(s?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",d={"min-width":l.width+"px","min-height":l.height+"px","max-height":l.height+"px",padding:"0 0 "+(s?"2px":"1px"),border:0,"border-radius":0,cursor:"default","text-indent":"-999999px"},c={attributes:!0,attributeFilter:["min","max","step","value"]},m=Array.prototype.forEach,p=document.createEvent("HTMLEvents");p.initEvent("change",!0,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e,!0):e()}}();