function autoFill(e,t,r){void 0==r&&(r=0);var n=new Array,a=GetElementsByAttribute("div","id",t);for(l=0;l<a.length;l++){var i=a[l].getAttribute("name");if("null"!=i){var o=getText(a[l]);n[i]=o}}for(var l=0;l<e.length;l++){var u=e[l].type,i=e[l].getAttribute("name"),d=i.replace(/\[/,"");d=d.replace(/\]/,"");{n[d]}if(r&&(e[l].style.backgroundColor="#FFFFFF",e[l].style.color="#000000",e[l].style.border="1px solid #7f9db9","textarea"==u?e[l].readOnly=!0:"text"==u?e[l].readOnly=!0:e[l].disabled=!0),void 0!=n[d])if("checkbox"==u){var c=n[d].split(":"),m=e[l].getAttribute("value");for(s=0;s<c.length;s++)m==c[s]&&(e[l].checked=!0)}else e[l].value=n[d]}}function ajaxAddEditForm(e,t,r,n){var a="_action=editform&-table="+e,i="Add New Record";return void 0!=t&&t>0&&(a+="&_id="+t,i="Edit Record"),void 0!=r&&(a+="&-fields="+r),void 0!=n&&(a+="&"+n),ajaxPopup("/php/index.php",a,{id:"centerpop"}),!1}function autoGrow(e,t){void 0==t&&(t=400),e.scrollHeight<t&&e.scrollHeight>e.clientHeight&&!window.opera&&(e.style.height=e.scrollHeight+"px")}function comboCompleteMatch(e,t){e=e.toLowerCase();for(var r=0;r<t.length;r++)if(aval=t[r].toLowerCase(),0==aval.indexOf(e))return r;return-1}function comboComplete(e,t,r){for(var n=getText(r),a=n.split("\n"),i=new Array,o=0;o<a.length;o++)if(void 0!=a[o]){var s=trim(a[o]);if(0!=s.length){var l=s.match(/tval=\"(.+?)\"/gi);if(void 0!=l)for(m in l){var u=l[m]+"";if(-1!=u.indexOf('tval="')){var d=u.replace('tval="',"");d=d.replace(/\"$/,""),i.push(d)}}}}var c=parseInt(t.keyCode);switch(c){case 38:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p>0&&(p-=1,void 0!=i[p]))return e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 40:if(void 0!=e.getAttribute("last_index")){var p=parseInt(e.getAttribute("last_index"));if(p<i.length&&(p+=1,void 0!=i[p]))return e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length),!1}break;case 37:case 39:case 33:case 34:case 36:case 35:case 13:case 9:case 27:case 16:case 17:case 18:case 20:case 8:case 46:return!0;default:textboxReplaceSelect(e,String.fromCharCode(isIE?t.keyCode:t.charCode));var v=e.value.length,p=comboCompleteMatch(e.value,i);return p>-1&&(e.value=i[p].replace("&amp;","&"),e.setAttribute("last_index",p),textboxSelect(e,v,e.value.length)),!1}}function fielddataChange(e){var t=getParentForm(e),r=t.name,n=e.name,a=e.value,i=t.required;switch(n){case"inputtype":switch(a){case"slider":setText(r+"_height_dname","Min"),setText(r+"_inputmax_dname","Max"),setText(r+"_required_dname","Step"),i.type="text",i.style.width="25px";break;default:setText(r+"_height_dname","Height"),setText(r+"_inputmax_dname","Inputmax"),setText(r+"_required_dname","Required"),i.type="checkbox",i.style.width=""}}}function filemanagerEdit(e,t,r){var n=getObject(e),a=n.getAttribute("filename"),i=getText(n),o="";if(o+='<form class="w_form" method="post" action="/'+t+'" onSubmit="return submitForm(this);">\n',o+='<table border="0">\n',o+='<tr><th>Name</th><td><input type="text" name="file_name" value="'+a+'" style="width:300px;"></td></tr>\n',o+='<tr><th>Desc</th><td><textarea name="file_desc" style="width:300px;height:60;" onkeypress="autoGrow(this,200);">'+i+"</textarea></td></tr>\n",o+='<tr><td align="right" colspan="2"><input type="submit" value="Save Changes"></td></tr>\n',o+="</table>\n",r){o+='<div style="display:none" id="params">\n';for(var s in r)o+='<textarea name="'+s+'">'+r[s]+"</textarea>\n";o+="</div>\n"}return o+="</form><br />\n",popUpDiv(o,{title:"filemanager Edit",drag:1,center:"x",y:"-100",width:350}),!1}function formatPhone(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var r=t.substr(0,3),n=t.substr(3,3),a=t.substr(6,4);return t=r,n.length>0&&(t+="-"+n),a.length>0&&(t+="-"+a),t}function formatCalendar(e){var t=e;t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t=t.replace(/\-/g,""),t=t.replace(/[a-zA-z]/g,""),t=t.replace(/\s+/g,"");var r=t.substr(0,2),n=t.substr(2,2),a=t.substr(4,4);return t=r,n.length>0&&(t+="-"+n),a.length>0&&(t+="-"+a),t}function getElementForm(e){for(;e&&void 0!=e.nodeName&&"FORM"!=e.nodeName;)e=e.parentNode;return e}function dynamicSelect(e,t,r){if(void 0==e)return!1;void 0==t&&(t="other");var n=e.name;if(e.getAttribute("displayname")&&(n=e.getAttribute("displayname")),void 0==r&&(r="Enter "+t+' "'+n+'" below and click OK.'),e.value.toLowerCase()==t.toLowerCase()){var a=prompt(r);if(void 0!=a&&a.length>0){for(var i=0;i<e.options.length;i++)if(e.options[i].value==a)return e.value=e.options[i].value,!1;e.options[e.length]=new Option(a.toLowerCase(),a),e.value=a}}return!1}function scheduleHeartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var r=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_heartbeat=setTimeout("heartbeat('"+e+"',"+t+")",r)}function heartbeat(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/index.php",e,"_heartbeat=1&t="+t+"&div="+e)}function scheduleSessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=600);var r=parseInt(1e3*t);clearTimeout(timer_heartbeat),timer_session_errors=setTimeout("sessionErrors('"+e+"',"+t+")",r)}function sessionErrors(e,t){void 0==e&&(e="null"),void 0==t&&(t=60),ajaxGet("/php/admin.php",e,"_menu=session_errors&t="+t+"&div="+e)}function redrawField(e,t){var r=getElementForm(t),n=r.getAttribute("name"),a=n+"_"+e+"_content",i=r._table.value;return ajaxGet("/php/index.php",a,"_redraw="+i+":"+e+"&opt_0="+t.name+"&val_0="+t.value),!1}function changeModelType(e){var t=getElementForm(e),r="";if(!(void 0!=t._id&&(r=getText(t.functions),r.length>0))){var n=t.name.value;r="",0==e.value||(r+="<?php\r\n",r+="/* Available functions: Each function should return the array that was passed in.\r\n",r+="\r\n",r+="	//addDBRecord triggers\r\n",r+="	function "+n+"AddBefore($params=array()){}\r\n",r+="	function "+n+"AddSuccess($params=array()){}\r\n",r+="	function "+n+"AddFailure($params=array()){}\r\n",r+="\r\n",r+="	//editDBRecord triggers\r\n",r+="	function "+n+"EditBefore($params=array()){}\r\n",r+="	function "+n+"EditSuccess($params=array()){}\r\n",r+="	function "+n+"EditFailure($params=array()){}\r\n",r+="\r\n",r+="	//delDBRecord triggers\r\n",r+="	function "+n+"DeleteBefore($params=array()){}\r\n",r+="	function "+n+"DeleteSuccess($params=array()){}\r\n",r+="	function "+n+"DeleteFailure($params=array()){}\r\n",r+="\r\n",r+="	//getDBRecord, listDBRecords, and getDBRecords trigger\r\n",r+="	function "+n+"GetRecord($rec=array()){}\r\n",r+="*/\r\n\r\n",r+="?>\r\n"),setText(t.functions,r)}}function remindMeForm(){var e="remindMePopup",t="";t+='	<div class="w_centerpop_content" id="remindmediv" style="width:300px;">\n',t+='		<form method="POST" name="remindMe" class="w_form" action="/php/index.php" onSubmit="ajaxSubmitForm(this,\'remindmediv\');return false;">\n',t+='			<input type="hidden" name="_remind" value="1">\n',t+='			<input type="hidden" name="tname" value="remind me">\n',t+='			<div class="w_gray"> Enter the email address tied to your account profile to have your username and password emailed to you.</div>\n',t+='			<div><img src="/wfiles/iconsets/32/email.png" width="32" height="32" alt="Email Address" border="0" class="w_middle"> <b>Email Address</b></div>\n',t+=' 			<div><input type="text" maxlength="255" name="email" mask=".+@.+..{2,6}" maskmsg="Invalid Email Address" required="1" requiredmsg="Enter the email address you registered with." value="" onFocus="this.select();" style="width:250px;font-size:9pt;font-family:arial;"></div>\n',t+='			<div align="right" style="margin-right:2px;margin-top:5px;"><input type="submit" class="w_formsubmit" value="Remind Me"></div>\n',t+="		</form>",t+="	</div>\n";var r='<img src="/wfiles/iconsets/16/info.png" width="16" height="16" alt="reminder" border="0" class="w_middle"> Remind Me Form';return popUpDiv("",{id:e,width:300,height:50,drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"}),setCenterPopText(e,t,{title:r}),document.remindMe.email.focus(),!1}function setProcessing(e,t){void 0==t&&(t="Processing ...");var r='<div class="w_lblue"><img src="/wfiles/loading_blu.gif" border="0"> '+t+"</div>";setText(e,r)}function submitRemindMeForm(e){return setProcessing("reminderMessage"),ajaxSubmitForm(e,"remindMeForm_Body"),!1}function setDateTimeBox(e,t,r,n,a){if(void 0==t||0==t.length){var i=new Date;t=i.getMonth()+"-"+i.getDate()+"-"+i.getFullYear()}var o=t.split("-",3);r=parseInt(1*r),"PM"==a&&(r+=12),10>r&&(r="0"+r),1==n.length&&(n="0"+n);var s=o[2]+"-"+o[0]+"-"+o[1]+" "+r+":"+n+":00";return setText(e,s),1}function setSliderText(e){var t=e.value,r=getAllAttributes(e);if(void 0!=r["data-label"]){if(void 0!=r["data-labelmap"]){r["data-labelmap"]=str_replace("'",'"',r["data-labelmap"]);var n=JSON.parse(r["data-labelmap"]);if(void 0!=n[t])return void setText(r["data-label"],n[t])}setText(r["data-label"],t)}}function setTimeBox(e,t,r,n){t=parseInt(1*t),"PM"==n&&(t+=12),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r);var a=t+":"+r+":00";return setText(e,a),1}function showColors(e,t,r){window.status=e+","+t+","+r;var n=document.getElementById(t);n.innerHTML=e,n=document.getElementById(r),n.style.backgroundColor=e}function showColor(e){showColors(e,"show_hex","show_color")}function selectColor(e,t,r){setHexObj=t,setHexDiv=e,setHexImg=r,ajaxGet("/wfiles/colortable.html",e)}function setHex(e){setText(setHexObj,e),setText(setHexDiv,""),setStyle(setHexImg,"backgroundColor",e)}function showToolbar(e,t){for(var r=GetElementsByAttribute("div","id","toolbar"),n=0;n<r.length;n++){var a=r[n].getAttribute("field"),i=r[n].getAttribute("category");r[n].style.display=a==e&&i==t?"block":"none"}}function setRadioLabel(e){for(var t=GetElementsByAttribute("input","name","^"+e+"$"),r=0;r<t.length;r++)for(var n=t[r].id,a=GetElementsByAttribute("label","for","^"+n+"$"),i=0;i<a.length;i++)t[r].checked?setClassName(a[i],"w_checklist_checked"):setClassName(a[i],"w_checklist")}function setLabelChecked(e,t,r,n,a){var i=GetElementsByAttribute("label",e,"^"+t+"$");if(void 0!=n&&void 0!=a)for(var o=0;o<i.length;o++)r?setClassName(i[o],a):setClassName(i[o],n);else for(var o=0;o<i.length;o++)r?setClassName(i[o],"w_checklist_checked"):setClassName(i[o],"w_checklist");return!0}function checkAllElements(e,t,r){for(var n=GetElementsByAttribute("input",e,"^"+t+"$"),a=0,i=0;i<n.length;i++)"checkbox"==n[i].type&&(n[i].checked=r,a++);return r?a:0}function setTimeField(e,t){var r=new Date,n=r.getMonth()+1;1==n.length&&(n="0"+n);var a=r.getDate();1==a.length&&(a="0"+a);var i=n+"-"+a+"-"+r.getFullYear(),o=r.getHours(),s=r.getMinutes();10>s&&(s="0"+s);var l="am";0==o?(o=12,l="am"):o>12&&(o-=12,l="pm"),10>o&&(o="0"+o);var u=getObject(e+"_"+t+"_date");void 0!=u&&(u.value=i);var u=getObject(e+"_"+t+"_hour");void 0!=u&&(u.value=o);var u=getObject(e+"_"+t+"_minute");void 0!=u&&(u.value=s);var u=getObject(e+"_"+t+"_ampm");void 0!=u&&(u.value=l)}function insertAtCursor(e,t){var r=getObject(e);if(document.selection)r.focus(),sel=document.selection.createRange(),sel.text=t;else if(r.selectionStart||"0"==r.selectionStart){var n=r.selectionStart,a=r.selectionEnd;r.value=r.value.substring(0,n)+t+r.value.substring(a,r.value.length)}else r.value+=t}function isCreditCardNumber(e){var t="0123456789",r=e.length,n=parseInt(e),a=e.toString();a=a.replace(/^\s+|\s+$/g,"");for(var i,o,s=0,l=0;r>l;l++)if(i=""+a.substring(l,l+1),"-1"==t.indexOf(i))return!1;if(r>=15&&20>=r){for(var u=r;u>0;u--){switch(o=parseInt(n)%10,o=parseInt(o),s+=o,u--,n/=10,o=parseInt(n)%10,o=2*o){case 10:o=1;break;case 12:o=3;break;case 14:o=5;break;case 16:o=7;break;case 18:o=9;break;default:o=o}n/=10,s+=o}var d=s%10;return 0==d?!0:!1}return!1}function textboxSelect(e,t,r){switch(arguments.length){case 1:e.select();break;case 2:r=e.value.length;case 3:if(isIE){var n=e.createTextRange();n.moveStart("character",t),n.moveEnd("character",-e.value.length+r),n.select()}else isMoz&&e.setSelectionRange(t,r)}e.focus()}function textboxReplaceSelect(e,t){if(isIE){var r=document.selection.createRange();r.text=t,r.collapse(!0),r.select()}else if(isMoz){var n=e.selectionStart;e.value=e.value.substring(0,n)+t+e.value.substring(e.selectionEnd,e.value.length),e.setSelectionRange(n+t.length,n+t.length)}e.focus()}function submitForm(e,t,r,n){if(void 0==e)return alert("No form object passed to submitForm"),!1;if(void 0!=e._action&&"Delete"==e._action.value)return!0;t=1;var a=new Array;if(a.alpha="^[a-zA-Z_-\\?\\ \\']+$",a.alphanumeric="^[0-9a-zA-Z_-\\.\\?\\ \\']+$",a.calendar="^[0-9]{1,2}-[0-9]{1,2}-[0-9]{1,4}$",a.email=".+@.+\\..{2,6}",a.integer="^[0-9]+$",a.hexcolor="^#[abcdef0-9]{6,6}$",a.decimal="^[0-9]*\\.[0-9]+$",a.number="(^[0-9]+$)|(^\\.[0-9]+$)|(^[0-9]+\\.[0-9]+$)",a.phone="^([0-9]{3,3}[\\-\\.][0-9]{3,3}[\\-\\.][0-9]{4,4}|\\([0-9]{3,3}\\)\\ [0-9]{3,3}[\\-][0-9]{4,4})$",a.time="^[0-9]{1,2}\\:[0-9]{2}$",a.ssn="^[0-9]{3,3}-[0-9]{2,2}-[0-9]{4,4}$",a.zipcode="^[0-9]{5,5}(\\-[0-9]{4,4})*$",0==e.length)return!1;1==r&&alert("Form length: "+e.length);for(var i=new Array,o=0;o<e.length;o++){if(1==r&&alert("Checking "+e[o].name+" of type "+e[o].type),in_array(e[o].name,i)||"_formfields"==e[o].name||(i[i.length]=e[o].name),"password"==e[o].name&&void 0!=e.password_confirm){if(0==e[o].value.length||0==e.password_confirm.value.length)return submitFormAlert("Password is required",t,5),e[o].focus(),!1;if(e[o].value!=e.password_confirm.value)return submitFormAlert("Passwords do not match.  Please retype password.",t,5),e[o].focus(),!1}if("email"==e[o].name&&void 0!=e.email_confirm){if(0==e[o].value.length||0==e.email_confirm.value.length)return submitFormAlert("Email is required",t,3),e[o].focus(),!1;if(e[o].value!=e.email_confirm.value)return submitFormAlert("Emails do not match.",t,3),e[o].focus(),!1}var l=e[o].name;e[o].getAttribute("displayname")&&(l=e[o].getAttribute("displayname"));var u=0;if(void 0!=e[o].getAttribute("_required")?u=e[o].getAttribute("_required"):void 0!=e[o].getAttribute("required")&&(u=e[o].getAttribute("required")),1==u)if("checkbox"==e[o].type){var d="name";e[o].getAttribute("checkname")&&(d=e[o].getAttribute("checkname"));for(var c=e[o].getAttribute(d),m=GetElementsByAttribute("input",d,c),p=0,v=0;v<m.length;v++)"checkbox"==m[v].type&&m[v].checked?p++:"text"==m[v].type&&""!=m[v].value&&p++;if(0==p){var g=l+" is required";return e[o].getAttribute("requiredmsg")&&(g=e[o].getAttribute("requiredmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}else if("radio"==e[o].type){for(var m=GetElementsByAttribute("input","name",e[o].name),p=0,v=0;v<m.length;v++)"radio"==m[v].type&&m[v].checked?p++:"text"==m[v].type&&""!=m[v].value&&p++;if(0==p){var g=l+" is required";return e[o].getAttribute("requiredmsg")&&(g=e[o].getAttribute("requiredmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}else if("textarea"==e[o].type){var f=trim(getText(e[o]));if(0==f.length){var g=l+" is required";return e[o].getAttribute("requiredmsg")&&(g=e[o].getAttribute("requiredmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}else if(""==e[o].value){var g=l+" is required";return e[o].getAttribute("requiredmsg")&&(g=e[o].getAttribute("requiredmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}if(e[o].getAttribute("mask")&&""!=e[o].getAttribute("mask").value&&""!=e[o].value){var b=e[o].getAttribute("mask");if("ccnumber"==b){if(0==isCreditCardNumber(e[o].value)){var g=l+" must be of valid credit card number ";return e[o].getAttribute("maskmsg")&&(g=e[o].getAttribute("maskmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}else if("intlphone"==b){if(0==checkInternationalPhone(e[o].value)){var g=l+" must be a valid phone number";return e[o].getAttribute("maskmsg")&&(g=e[o].getAttribute("maskmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}else if("searchandreplace"!=b){"phone"==b?e[o].value=formatPhone(e[o].value):"calendar"==b&&(e[o].value=formatCalendar(e[o].value));var h=b;void 0!=a[b]&&(h=a[b]+"");var x=new RegExp(h,"i");if(0==x.test(e[o].value)){var g=l+" must be of type "+b;return e[o].getAttribute("maskmsg")&&(g=e[o].getAttribute("maskmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}}if("textarea"==e[o].type&&e[o].getAttribute("maxlength")){var A=e[o].value.length,y=Math.abs(e[o].getAttribute("maxlength"));if(A>y){var g=l+" must be less than "+y+" characters\nYou entered "+A+" characters.";return e[o].getAttribute("maxlengthmsg")&&(g=e[o].getAttribute("maxlengthmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minlength")){var A=e[o].value.length,w=Math.abs(e[o].getAttribute("minlength"));if(w>A){var g=l+" must be at least "+w+" characters.\nYou entered "+A+" characters.";return e[o].getAttribute("minlengthmsg")&&(g=e[o].getAttribute("minlengthmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}if(e[o].getAttribute("minwords")){var _=getWordCount(e[o]),q=Math.abs(e[o].getAttribute("minwords"));if(q>A){var g=l+" must be at least "+q+" words in length.\nYou entered "+_+" words.";return e[o].getAttribute("minwordsmsg")&&(g=e[o].getAttribute("minwordsmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}if(e[o].getAttribute("maxwords")){var _=getWordCount(e[o]),R=Math.abs(e[o].getAttribute("maxwords"));if(R>A){var g=l+" must be less than "+R+" words in length.\nYou entered "+_+" words.";return e[o].getAttribute("maxwordsmsg")&&(g=e[o].getAttribute("maxwordsmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}if("file"==e[o].type&&e[o].getAttribute("accept")&&e[o].value.length){var j=e[o].getAttribute("accept");1==r&&alert(" -- File type allowed exts:"+j);var k=j.split(","),E=0;for(s=0;s<k.length;s++)-1!=e[o].value.lastIndexOf(k[s])&&E++;if(0==E){var g=l+" must be of valid file type:  "+j;return e[o].getAttribute("acceptmsg")&&(g=e[o].getAttribute("acceptmsg")),submitFormAlert(g,t,5),e[o].focus(),!1}}}for(var o=0;o<e.length;o++){var C=e[o].getAttribute("data-behavior"),T=e[o].getAttribute("id");void 0==C||"wysiwyg"!=C&&"richtext"!=C&&"tinymce"!=C&&"nicedit"!=C||void 0==nicEditors[T]||(1==n&&nicEditors.findEditor(T).saveContent(),nicEditors[T].removeInstance(T))}for(var I=implode(",",i),O=0,o=0;o<e.length;o++)if("_formfields"==e[o].name){e[o].value=I,O=1;break}if(0==O){var H=document.createElement("input");H.type="hidden",H.name="_formfields",H.value=I,e.appendChild(H)}return!0}function imposeMaxlength(e,t){return e.value.length<=t}function submitSurveyForm(e,t){if(void 0==e)return alert("submitSurveyForm Error: No Form"),!1;if(!submitForm(e))return!1;for(var r=new Array,n=0;n<e.length;n++){var a=e[n].name;r[a]=1}for(var n=0;n<e.length;n++)if(void 0!=e[n].name){var a=e[n].name;if(0!=a.length&&void 0!=t)for(var i in t)if(1==t[i]&&e[n].getAttribute(i)){var o=e[n].getAttribute(i);if(o.length){var s=i+"_"+a;if(void 0==r[s]){r[s]=1;var l=document.createElement("textarea");l.setAttribute("NAME",s),l.style.display="none",l.value=o,e.appendChild(l)}}}}return!0}function checkInternationalPhone(e){var t=".()- ",r=t+"+",n=10,a=3;if(e=trim(e),e.indexOf("+")>1)return!1;if(-1!=e.indexOf("-")&&(a+=1),-1!=e.indexOf("(")&&e.indexOf("(")>a)return!1;var i=e.indexOf("(");return-1!=e.indexOf("(")&&")"!=e.charAt(i+2)?!1:-1==e.indexOf("(")&&-1!=e.indexOf(")")?!1:(s=stripCharsInBag(e,r),isInteger(s)&&s.length>=n)}function isInteger(e){var t;for(t=0;t<e.length;t++){var r=e.charAt(t);if("0">r||r>"9")return!1}return!0}function trim(e){if(null!=e&&void 0!=e&&""!=e){var t=e.replace(/^[\ \s\0\r\n\t]*/g,"");return t=t.replace(/[\ \s\0\r\n\t]*$/g,"")}return""}function stripCharsInBag(e,t){var r,n="";for(r=0;r<e.length;r++){var a=e.charAt(r);-1==t.indexOf(a)&&(n+=a)}return n}function submitFormAlert(e,t){return void 0==t&&(t=0),t?(html="",html+='<div class="w_centerpop_title" style="background:#d50000;"><img src="/wfiles/iconsets/16/alert.png" border="0" alt="errors" class="w_middle"> Error Processing Request</div>\n',html+='<div class="w_centerpop_content">\n',html+='	<div class="w_big w_dblue"> - '+e+"</div>\n",html+='	<div class="w_smallest w_right w_lblue" style="margin-right:20px;" id="centerpop2_countdown">4</div>\n',html+="</div>\n",centerpopDiv(html,3,2),countDown("centerpop2_countdown")):alert(e),!1}function showFormData(e,t){if(void 0==e)return alert("No form object passed to formData"),!1;if(0==e.length)return!1;for(var r="",n=0;n<e.length;n++){var a=e[n].name,i=typeof e[n];r+="Name: "+a+"<br>\r\n",r+="Type: "+i+"<br>\r\n"}t?setText(t,r):alert(r)}function checkPerl(e,t){if(void 0==document._perlcheck)return alert("document._perlcheck does not exist."),!1;var r=e+"_perlcheck";return void 0==t?(alert("Nothing to check."),!1):0==t.length?(alert("Nothing to check."),!1):(document.getElementById(r).innerHTML='<img src="/wfiles/busy.gif" title="checking Perl syntax" border="0" width="12" height="12">',document._perlcheck.perlcheck.value=t,ajaxSubmitForm(document._perlcheck,r,5),!1)}function cloneObj(e){var t=getObject(e),r=t.getAttribute("inc");void 0==r?r=1:(r=parseFloat(r),r++),t.setAttribute("inc",r);var n=t.cloneNode(!0);void 0!=n.id&&n.setAttribute("id",n.id+"_"+r),void 0!=n.style.display&&"none"==n.style.display&&(n.style.display="block");for(var a=n.getElementsByTagName("input"),i=n.getElementsByTagName("img"),o=0;o<a.length;o++){var s=a[o].getAttribute("name"),l=a[o].getAttribute("id");if((void 0==l||0==l.length)&&(l=s),void 0!=s){var u=a[o].getAttribute("type");"_clone"==s&&"button"==u.toLowerCase()&&(a[o].style.display="none"),"button"!=u.toLowerCase()&&"hidden"!=u.toLowerCase()&&(a[o].value="");var d=s+"_"+r,c=l+"_"+r;if(d.indexOf("[]")>1&&(d=s),-1!=s.indexOf("_path")&&(d=s.replace(/path/,""),d+=r+"_path"),-1!=s.indexOf("_autonumber")&&(d=s.replace(/autonumber/,""),d+=r+"_autonumber"),a[o].setAttribute("name",d),void 0!=l&&-1!=l.indexOf("_datecontrol")&&(c+="_datecontrol"),a[o].setAttribute("id",c),void 0!=l)for(var m=0;m<i.length;m++)if(void 0!=i[m].getAttribute("onclick")){var p=i[m].getAttribute("onclick");"function"==typeof p.replace&&(p=p.replace(l,c)),i[m].setAttribute("onclick",p)}}}for(var v=n.getElementsByTagName("select"),o=0;o<v.length;o++){var s=v[o].getAttribute("name");if(void 0!=s){var d=s+"_"+r;v[o].setAttribute("name",d),v[o].setAttribute("id",d)}}for(var g=n.getElementsByTagName("textarea"),o=0;o<g.length;o++){var s=g[o].getAttribute("name");if(void 0!=s){g[o].value="";var d=s+"_"+r;g[o].setAttribute("name",d),g[o].setAttribute("id",d)}}return t.parentNode.appendChild(n),r}function ajaxSubmitForm(e,t,r,n,a){return ajaxPost(e,t,r,n,a)}function ajaxPopup(e,t,r){var n="ajaxPopupDiv",a={id:n,drag:1};if(r){for(var i in a)void 0!=r[i]&&(a[i]=r[i]);for(var i in r)void 0==a[i]&&(a[i]=r[i])}popUpDiv('<div class="w_bold w_lblue w_big"><img src="/wfiles/loading_blu.gif" border="0"> loading...please wait.</div>',a),ajaxGet(e,"centerpop",t)}function ajaxPost(theform,sid,tmeout,callback,returnreq){if(void 0==theform)return alert("No form object passed to ajaxPost"),!1;var ok=submitForm(theform,1,0,1);if(!ok)return!1;void 0==callback&&(callback=""),void 0==returnreq&&(returnreq=!1),(void 0==tmeout||9e4>tmeout)&&(tmeout=9e4);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxPost\n"+sid+" is not defined as a valid object id"),!1;var AJUid=(new Date).getTime()+"",getReq=AjaxRequest.submit(theform,{groupName:sid,timeout:tmeout,callback:callback,AjaxRequestUniqueId:AJUid,onGroupBegin:function(){var e=this.groupName,t=e.toLowerCase(),r=this.callback;if(r=r.toLowerCase(),-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")){var n='<div class="w_centerpop_content"><img src="/wfiles/loading_blu.gif" border="0" class="w_middle"> Processing. Please wait...</div>';popUpDiv("",{id:e,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"});var a="Processing Request";setCenterPopText(e,n,{title:a,drag:!1,close_bot:!1})}else setProcessing(e)},onGroupEnd:function(){},onTimeout:function(){var e=this.groupName,t=this.callback;t=t.toLowerCase();var r='<b style="color:red">ajaxPost Timed Out Error</b>';-1!=t.indexOf("centerpop")||-1!=e.indexOf("centerpop")?setCenterPopText(e,r):setText(e,r)},onError:function(e){var t=this.groupName,r=this.callback;r=r.toLowerCase();var n='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(t,n):setText(t,n)},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(""!=cb)if(-1!=cb.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=cb.indexOf("centerpop"))setCenterPopText(dname,val);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv"))popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname);else if(-1!=lname.indexOf("centerpop"))setCenterPopText(dname,val);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val)}isFunction("f_tcalInit")&&f_tcalInit(),initBehaviors(dname)}});return returnreq?getReq:!1}function setCenterPopText(e,t,r){void 0==r&&(r={}),void 0==r.title&&(r.title=""),void 0==r.drag&&(r.drag=!0),void 0==r.close_top&&(r.close_top=!0),void 0==r.close_bot&&(r.close_bot=!0),void 0==r.center&&(r.center=!0);var n="";if(n+='<div class="w_centerpop">\n',r.title.length&&(n+='	<div class="w_centerpop_title">'+r.title+"</div>\n"),r.close_top&&(n+='	<div class="w_centerpop_close_top" title="Click to close" onclick="removeDiv(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" border="0"></div>\n'),r.drag&&(n+='	<div class="w_centerpop_drag" id="'+e+'_move" title="Click to drag"><img id="'+e+'_drag" src="/wfiles/icons/Xmove24.png" width="24" height="24" border="0"></div>\n'),n+="		"+t+"\n",n+='	<img src="/wfiles/clear.gif" border="0" width="1" height="1" style="position:absolute;top:0px;right:5px;" onload="centerObject(\''+e+"');\">\n",r.close_bot&&(n+='	<div class="w_centerpop_close_bot" title="Click to close" onclick="removeDiv(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" border="0"></div>\n'),n+="</div>\n",setText(e,n),r.center&&centerObject(e),r.drag){var a=getObject(e),i=getObject(e+"_move");Drag.init(i,a),i.style.position="absolute",a.style.position="absolute"}}function callWaSQL(e,t,r){var n="/cgi-bin/wasql.pl";ajaxGet(n,t,"&_view="+e+"&"+r)}function ajaxAbort(e){return"undefined"!=typeof AjaxRequest.ActiveAjaxGroupRequests[e]?(AjaxRequest.ActiveAjaxGroupRequests[e].xmlHttpRequest.abort(),delete AjaxRequest.ActiveAjaxGroupRequests[e],!0):!1}function ajaxGet(url,sid,xparams,callback,tmeout,nosetprocess,returnreq,newtitle,newurl){var params="",cp_title="";if("object"==typeof xparams){void 0!=xparams.callback&&(callback=xparams.callback),void 0!=xparams.timeout&&(tmeout=xparams.timeout),void 0!=xparams.nosetprocess&&(nosetprocess=xparams.nosetprocess),void 0!=xparams.cp_title&&(cp_title=xparams.cp_title);for(var key in xparams)0!=key.indexOf("-")&&"callback"!=key&&"timeout"!=key&&"nosetprocess"!=key&&"cp_title"!=key&&(params=params+key+"="+xparams[key]+"&")}else params=xparams;void 0==newtitle&&(newtitle=void 0!=xparams["-newtitle"]?xparams["-newtitle"]:""),void 0==newurl&&(newurl=void 0!=xparams["-newurl"]?xparams["-newurl"]:""),void 0==callback&&(callback=""),void 0==nosetprocess&&(nosetprocess=!0),void 0==returnreq&&(returnreq=!1);var guid=getCookie("GUID");void 0==tmeout&&(tmeout=18e4),void 0==nosetprocess&&(nosetprocess=0),9e4>tmeout&&(tmeout=9e4);var lcsid=sid.toLowerCase(),cb=callback.toLowerCase();if(void 0==document.getElementById(sid)&&-1==cb.indexOf("popupdiv")&&-1==cb.indexOf("centerpop")&&-1==lcsid.indexOf("popupdiv")&&-1==lcsid.indexOf("centerpop"))return alert("Error in ajaxGet\n"+sid+" is not defined as a valid object id"),!1;var getReq=AjaxRequest.get({url:url+"?"+params,callback:callback,timeout:tmeout,var2:cp_title,var3:newtitle,var4:newurl,groupName:sid,var1:nosetprocess,onGroupBegin:function(){var e=this.groupName,t=e.toLowerCase(),r=this.callback.toLowerCase();if(-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")){var n='<div class="w_centerpop_content"><img src="/wfiles/loading_blu.gif" border="0" class="w_middle"> Processing. Please wait...</div>';popUpDiv("",{id:e,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"});var a="Processing Request";setCenterPopText(e,n,{title:a,drag:!1,close_bot:!1})}else 0==this.var1&&setProcessing(e)},onTimeout:function(){var e=this.groupName,t=e.toLowerCase(),r=this.callback.toLowerCase(),n='<b style="color:red">ajaxGet Timed Out Error</b>';-1!=r.indexOf("centerpop")||-1!=t.indexOf("centerpop")?setCenterPopText(e,n):setText(e,n)},onError:function(e){var t=this.groupName,r=t.toLowerCase(),n=this.callback.toLowerCase(),a='<div style="display:none" id="ajaxOnError">'+e.responseText+"</div>";-1!=n.indexOf("centerpop")||-1!=r.indexOf("centerpop")?setCenterPopText(t,a):setText(t,a)},onSuccess:function(req){var dname=this.groupName,lname=dname.toLowerCase(),cb=this.callback.toLowerCase(),val=req.responseText;for(ajaxids=GetElementsByAttribute("textarea","ajaxdiv",dname),i=0;i<ajaxids.length;i++){var cid=ajaxids[i].id;tinyMCE.execCommand("mceRemoveControl",!1,cid)}if(this.var3.length>0&&this.var4.length>0&&history.pushState(req.responseText,this.var3,this.var4),""!=cb)if(-1!=cb.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=cb.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else{var str=this.callback+"(req);";eval(str)}else if(-1!=lname.indexOf("popupdiv")){var val=req.responseText;popUpDiv(val,{id:dname,center:1,drag:1}),centerObject(dname)}else if(-1!=lname.indexOf("centerpop"))void 0!=this.var2&&this.var2.length>0?setCenterPopText(dname,req.responseText,{title:this.var2}):setCenterPopText(dname,req.responseText);else if(document.getElementById(dname)){(void 0==document.getElementById(dname).style.display||"none"==document.getElementById(dname).style.display)&&(document.getElementById(dname).style.display="inline");var obj=getObject(dname),behavior=obj.getAttribute("data-behavior"),id=obj.getAttribute("id");void 0==behavior||"wysiwyg"!=behavior&&"richtext"!=behavior&&"tinymce"!=behavior&&"nicedit"!=behavior||void 0==nicEditors[id]||nicEditors.findEditor(id).setContent(val),setText(dname,val),void 0!=document.getElementById(dname).getAttribute("onshow")&&"center"==document.getElementById(dname).getAttribute("onshow")&&(document.getElementById(dname).style.position="absolute",centerObject(dname))}isFunction("f_tcalInit")&&f_tcalInit(),initBehaviors(dname)}});return returnreq?getReq:!1}function newXmlHttpRequest(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null}function AjaxRequest(){var e=new Object;return e.timeout=null,e.generateUniqueUrl=!0,e.url=window.location.href,e.method="GET",e.async=!0,e.username=null,e.password=null,e.xAttribute=null,e.xValue=null,e.xName=null,e.xAction=null,e.xId=null,e.parameters=new Object,e.requestIndex=AjaxRequest.numAjaxRequests++,e.responseReceived=!1,e.groupName=null,e.callback=null,e.var1=null,e.var2=null,e.var3=null,e.var4=null,e.var5=null,e.queryString="",e.responseText=null,e.responseXML=null,e.status=null,e.statusText=null,e.aborted=!1,e.xmlHttpRequest=null,e.onTimeout=null,e.onLoading=null,e.onLoaded=null,e.onInteractive=null,e.onComplete=null,e.onSuccess=null,e.onError=null,e.onGroupBegin=null,e.onGroupEnd=null,e.xmlHttpRequest=AjaxRequest.getXmlHttpRequest(),null==e.xmlHttpRequest?null:(e.xmlHttpRequest.onreadystatechange=function(){null!=e&&null!=e.xmlHttpRequest&&(1==e.xmlHttpRequest.readyState&&e.onLoadingInternal(e),2==e.xmlHttpRequest.readyState&&e.onLoadedInternal(e),3==e.xmlHttpRequest.readyState&&e.onInteractiveInternal(e),4==e.xmlHttpRequest.readyState&&e.onCompleteInternal(e))
},e.onLoadingInternalHandled=!1,e.onLoadedInternalHandled=!1,e.onInteractiveInternalHandled=!1,e.onCompleteInternalHandled=!1,e.onLoadingInternal=function(){e.onLoadingInternalHandled||(AjaxRequest.numActiveAjaxRequests++,1==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestBegin&&AjaxRequestBegin(),null!=e.groupName&&("undefined"==typeof AjaxRequest.numActiveAjaxGroupRequests[e.groupName]?(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]=0,AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e):AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e,AjaxRequest.numActiveAjaxGroupRequests[e.groupName]++,1==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupBegin&&e.onGroupBegin(e.groupName)),"function"==typeof e.onLoading&&e.onLoading(e),e.onLoadingInternalHandled=!0)},e.onLoadedInternal=function(){e.onLoadedInternalHandled||("function"==typeof e.onLoaded&&e.onLoaded(e),e.onLoadedInternalHandled=!0)},e.onInteractiveInternal=function(){e.onInteractiveInternalHandled||("function"==typeof e.onInteractive&&e.onInteractive(e),e.onInteractiveInternalHandled=!0)},e.onCompleteInternal=function(){e.onCompleteInternalHandled||e.aborted||(e.onCompleteInternalHandled=!0,AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),e.responseReceived=!0,e.status=e.xmlHttpRequest.status,e.statusText=e.xmlHttpRequest.statusText,e.responseText=e.xmlHttpRequest.responseText,e.responseXML=e.xmlHttpRequest.responseXML,"function"==typeof e.onComplete&&e.onComplete(e),200==e.xmlHttpRequest.status&&"function"==typeof e.onSuccess?e.onSuccess(e):"function"==typeof e.onError&&e.onError(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.onTimeoutInternal=function(){null==e||null==e.xmlHttpRequest||e.onCompleteInternalHandled||(e.aborted=!0,e.xmlHttpRequest.abort(),AjaxRequest.numActiveAjaxRequests--,0==AjaxRequest.numActiveAjaxRequests&&"function"==typeof window.AjaxRequestEnd&&AjaxRequestEnd(e.groupName),null!=e.groupName&&(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--,delete AjaxRequest.ActiveAjaxGroupRequests[e.groupName],0==AjaxRequest.numActiveAjaxGroupRequests[e.groupName]&&"function"==typeof e.onGroupEnd&&e.onGroupEnd(e.groupName)),"function"==typeof e.onTimeout&&e.onTimeout(e),delete e.xmlHttpRequest.onreadystatechange,e.xmlHttpRequest=null)},e.process=function(){if(null!=e.xmlHttpRequest){e.generateUniqueUrl&&"GET"==e.method&&(e.parameters.AjaxRequestUniqueId=(new Date).getTime()+""+e.requestIndex);var t=null;for(var r in e.parameters)e.queryString.length>0&&(e.queryString+="&"),e.queryString+=encodeURIComponent(r)+"="+encodeURIComponent(e.parameters[r]);"GET"==e.method&&e.queryString.length>0&&(e.url+=(e.url.indexOf("?")>-1?"&":"?")+e.queryString),e.xmlHttpRequest.open(e.method,e.url,e.async,e.username,e.password),"POST"==e.method&&("undefined"!=typeof e.xmlHttpRequest.setRequestHeader&&e.xmlHttpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=e.queryString),e.timeout>0&&setTimeout(e.onTimeoutInternal,e.timeout),e.xmlHttpRequest.send(t)}},e.handleArguments=function(t){for(var r in t)"undefined"==typeof e[r]?e.parameters[r]=t[r]:e[r]=t[r]},e.getAllResponseHeaders=function(){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getAllResponseHeaders();alert("Cannot getAllResponseHeaders because a response has not yet been received")}},e.getResponseHeader=function(t){if(null!=e.xmlHttpRequest){if(e.responseReceived)return e.xmlHttpRequest.getResponseHeader(t);alert("Cannot getResponseHeader because a response has not yet been received")}},e)}var timer_heartbeat="",timer_session_errors="",setHexObj,setHexDiv,setHexImg;AjaxRequest.getXmlHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?void 0:null},AjaxRequest.isActive=function(){return AjaxRequest.numActiveAjaxRequests>0},AjaxRequest.get=function(e){AjaxRequest.doRequest("GET",e)},AjaxRequest.post=function(e){AjaxRequest.doRequest("POST",e)},AjaxRequest.doRequest=function(e,t){if("undefined"!=typeof t&&null!=t){var r=new AjaxRequest;r.method=e,r.handleArguments(t),r.process()}},AjaxRequest.submit=function(e,t){var r=new AjaxRequest;if(null==r)return!1;var n=AjaxRequest.serializeForm(e);return r.method=e.method.toUpperCase(),r.url=e.action,r.handleArguments(t),r.queryString=n,r.process(),!0},AjaxRequest.serializeForm=function(e){var t=e.elements;if(void 0==t)return alert("Ajax Request serializeForm failed"),!1;var r=t.length,n="";this.addField=function(e,t){n.length>0&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(var a=0;r>a;a++){var i=t[a];if(!i.disabled)switch(i.type){case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":case"text":case"password":case"submit":case"hidden":case"textarea":this.addField(i.name,i.value);break;case"select-one":i.selectedIndex>=0&&this.addField(i.name,i.options[i.selectedIndex].value);break;case"select-multiple":for(var o=0;o<i.options.length;o++)i.options[o].selected&&this.addField(i.name,i.options[o].value);break;case"checkbox":case"radio":i.checked&&this.addField(i.name,i.value)}}return n},AjaxRequest.numActiveAjaxRequests=0,AjaxRequest.numActiveAjaxGroupRequests=new Object,AjaxRequest.ActiveAjaxGroupRequests=new Object,AjaxRequest.numAjaxRequests=0,function(){function e(){m.call(document.querySelectorAll("input[type=range]"),r),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes&&m.call(e.addedNodes,function(e){t(e),e.childElementCount&&m.call(e.querySelectorAll("input"),t)})})}).observe(document,{childList:!0,subtree:!0})}function t(e){"input"==e.localName&&"range"!=e.type&&"range"==e.getAttribute("type")&&r(e)}function r(e){function t(e){if(w=!0,setTimeout(function(){w=!1},0),!e.button&&C){var t=parseFloat(getComputedStyle(this,0).width),n=(t-l.width)/C;if(n){var i=e.clientX-this.getBoundingClientRect().left-l.width/2-(T-j)*n;Math.abs(i)>l.radius&&(y=!0,this.value-=-i/n),q=T,R=e.clientX,this.addEventListener("mousemove",r,!0),this.addEventListener("mouseup",a,!0)}}}function r(e){var t=parseFloat(getComputedStyle(this,0).width),r=(t-l.width)/C;r&&(q+=(e.clientX-R)/r,R=e.clientX,y=!0,this.value=q)}function a(){this.removeEventListener("mousemove",r,!0),this.removeEventListener("mouseup",a,!0)}function i(e){e.keyCode>36&&e.keyCode<41&&(m.call(this),y=!0,this.value=T+(38==e.keyCode||39==e.keyCode?E:-E))}function m(){w||(this.style.boxShadow=s?"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)":"0 0 0 2px #fb0")}function v(){this.style.boxShadow=""}function g(e){return!isNaN(e)&&+e==parseFloat(e)}function f(){j=g(e.min)?+e.min:0,k=g(e.max)?+e.max:100,j>k&&(k=j>100?j:100),E=g(e.step)&&e.step>0?+e.step:1,C=k-j,h(!0)}function b(){x||A||(T=e.getAttribute("value")),g(T)||(T=(j+k)/2),T=Math.round((T-j)/E)*E+j,j>T?T=j:T>k&&(T=j+~~(C/E)*E)}function h(t){if(b(),y&&T!=_&&e.dispatchEvent(p),y=!1,t||T!=_){_=T;var r=C?(T-j)/C*100:0,a="-moz-element(#__sliderthumb__) "+r+"% no-repeat, ";n(e,{background:a+u})}}var x,A,y,w,_,q,R,j,k,E,C,T=e.value;o||(o=document.body.appendChild(document.createElement("hr")),n(o,{"-moz-appearance":s?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),document.mozSetImageElement("__sliderthumb__",o));var I=function(){return""+T},O=function H(t){T=""+t,x=!0,h(),delete e.value,e.value=T,e.__defineGetter__("value",I),e.__defineSetter__("value",H)};e.__defineGetter__("value",I),e.__defineSetter__("value",O),e.__defineGetter__("type",function(){return"range"}),["min","max","step"].forEach(function(t){e.hasAttribute(t)&&(A=!0),e.__defineGetter__(t,function(){return this.hasAttribute(t)?this.getAttribute(t):""}),e.__defineSetter__(t,function(e){null===e?this.removeAttribute(t):this.setAttribute(t,e)})}),e.readOnly=!0,n(e,d),f(),new MutationObserver(function(t){t.forEach(function(t){"value"!=t.attributeName?(f(),A=!0):x||(T=e.getAttribute("value"),h())})}).observe(e,c),e.addEventListener("mousedown",t,!0),e.addEventListener("keydown",i,!0),e.addEventListener("focus",m,!0),e.addEventListener("blur",v,!0)}function n(e,t){for(var r in t)e.style.setProperty(r,t[r],"important")}var a=document.createElement("input");try{if(a.type="range","range"==a.type)return}catch(i){return}if(a.style.background="linear-gradient(red, red)",a.style.backgroundImage&&"MozAppearance"in a.style&&document.mozSetImageElement&&this.MutationObserver){var o,s="MacIntel"==navigator.platform,l={radius:s?9:6,width:s?22:12,height:s?16:20},u="linear-gradient(transparent "+(s?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",d={"min-width":l.width+"px","min-height":l.height+"px","max-height":l.height+"px",padding:"0 0 "+(s?"2px":"1px"),border:0,"border-radius":0,cursor:"default","text-indent":"-999999px"},c={attributes:!0,attributeFilter:["min","max","step","value"]},m=Array.prototype.forEach,p=document.createEvent("HTMLEvents");p.initEvent("change",!0,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e,!0):e()}}();