!function(){function e(e,o){var n=e.getWrapperElement(),r=n.insertBefore(document.createElement("div"),n.firstChild);return r.className="CodeMirror-dialog",r.innerHTML="<div>"+o+"</div>",r}CodeMirror.defineExtension("openDialog",function(o,n){function r(){i||(i=!0,t.parentNode.removeChild(t))}var t=e(this,o),i=!1,c=this,u=t.getElementsByTagName("input")[0];return u&&(CodeMirror.connect(u,"keydown",function(e){(13==e.keyCode||27==e.keyCode)&&(CodeMirror.e_stop(e),r(),c.focus(),13==e.keyCode&&n(u.value))}),u.focus(),CodeMirror.connect(u,"blur",r)),r}),CodeMirror.defineExtension("openConfirm",function(o,n){function r(){c||(c=!0,t.parentNode.removeChild(t),u.focus())}var t=e(this,o),i=t.getElementsByTagName("button"),c=!1,u=this,d=1;i[0].focus();for(var f=0;f<i.length;++f){var a=i[f];!function(e){CodeMirror.connect(a,"click",function(o){CodeMirror.e_preventDefault(o),r(),e&&e(u)})}(n[f]),CodeMirror.connect(a,"blur",function(){--d,setTimeout(function(){0>=d&&r()},200)}),CodeMirror.connect(a,"focus",function(){++d})}})}();